<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Generator.Block</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Generator-Block.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Generator.Block.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-1.0.3: Cardano SL main implementation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Generator.Block</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:BlockGenError">BlockGenError</a><ul class="subs"><li>= <a href="#v:BGUnknownSecret">BGUnknownSecret</a> !<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a></li><li>| <a href="#v:BGUnknownAddress">BGUnknownAddress</a> !<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Address">Address</a></li><li>| <a href="#v:BGFailedToCreate">BGFailedToCreate</a> !Text</li><li>| <a href="#v:BGCreatedInvalid">BGCreatedInvalid</a> !VerifyBlocksException</li><li>| <a href="#v:BGInternal">BGInternal</a> !Text</li></ul></li><li class="src short"><a href="#v:genBlocks">genBlocks</a> :: (<a href="Pos-Generator-Block.html#t:MonadBlockGen">MonadBlockGen</a> ctx m, RandomGen g) =&gt; <a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a> -&gt; RandT g m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> [] (<a href="Pos-Block-Types.html#t:Blund">Blund</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>))</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadBlockGenBase">MonadBlockGenBase</a> m = (WithLogger m, MonadMask m, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadBaseControl <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> m, <a href="../cardano-sl-infra-1.0.3/Pos-KnownPeers.html#t:MonadFormatPeers">MonadFormatPeers</a> m, Mockables m '[CurrentTime, Async, Catch, Throw, Delay, Concurrently], <a href="../base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> (Promise m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ())), <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-update-1.0.3/Pos-Update-Configuration.html#t:HasUpdateConfiguration">HasUpdateConfiguration</a>, <a href="../cardano-sl-infra-1.0.3/Pos-Infra-Configuration.html#t:HasInfraConfiguration">HasInfraConfiguration</a>, <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Configuration.html#t:HasNodeConfiguration">HasNodeConfiguration</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadBlockGen">MonadBlockGen</a> ctx m = (<a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m, MonadReader ctx m, <a href="Pos-GState.html#t:HasGStateContext">HasGStateContext</a> ctx, <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:HasSlottingVar">HasSlottingVar</a> ctx, MonadRandom m)</li><li class="src short"><span class="keyword">data</span> <a href="#t:BlockGenContext">BlockGenContext</a> = <a href="#v:BlockGenContext">BlockGenContext</a> {<ul class="subs"><li><a href="#v:bgcPrimaryKey">bgcPrimaryKey</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Crypto-Signing-Types-Signing.html#t:SecretKey">SecretKey</a></li><li><a href="#v:bgcGState">bgcGState</a> :: !<a href="Pos-GState.html#t:GStateContext">GStateContext</a></li><li><a href="#v:bgcSystemStart">bgcSystemStart</a> :: !<a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a></li><li><a href="#v:bgcParams">bgcParams</a> :: !<a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a></li><li><a href="#v:bgcDelegation">bgcDelegation</a> :: !<a href="Pos-Delegation.html#t:DelegationVar">DelegationVar</a></li><li><a href="#v:bgcGenStakeholders">bgcGenStakeholders</a> :: !<a href="../cardano-sl-core-1.0.3/Pos-Core-Genesis-Types.html#t:GenesisWStakeholders">GenesisWStakeholders</a></li><li><a href="#v:bgcTxpMem">bgcTxpMem</a> :: !(<a href="../cardano-sl-txp-1.0.3/Pos-Txp-MemState-Types.html#t:GenericTxpLocalData">GenericTxpLocalData</a> <a href="Pos-WorkMode-Class.html#t:TxpExtra_TMP">TxpExtra_TMP</a>)</li><li><a href="#v:bgcUpdateContext">bgcUpdateContext</a> :: !<a href="../cardano-sl-update-1.0.3/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a></li><li><a href="#v:bgcSscState">bgcSscState</a> :: !(<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Types.html#t:SscState">SscState</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)</li><li><a href="#v:bgcSlotId">bgcSlotId</a> :: !(<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a>)</li><li><a href="#v:bgcTxpGlobalSettings">bgcTxpGlobalSettings</a> :: !<a href="Pos-Context.html#t:TxpGlobalSettings">TxpGlobalSettings</a></li><li><a href="#v:bgcReportingContext">bgcReportingContext</a> :: !<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-MemState.html#t:ReportingContext">ReportingContext</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:BlockGenMode">BlockGenMode</a> m = ReaderT <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> m</li><li class="src short"><span class="keyword">type</span> <a href="#t:BlockGenRandMode">BlockGenRandMode</a> g m = RandT g (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</li><li class="src short"><a href="#v:mkBlockGenContext">mkBlockGenContext</a> :: <span class="keyword">forall</span> ctx m. (<a href="Pos-Generator-Block.html#t:MonadBlockGen">MonadBlockGen</a> ctx m, <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Configuration.html#t:HasNodeConfiguration">HasNodeConfiguration</a>) =&gt; <a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a> -&gt; m <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></li><li class="src short"><a href="#v:usingPrimaryKey">usingPrimaryKey</a> :: MonadReader <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Crypto-Signing-Types-Signing.html#t:SecretKey">SecretKey</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:withCurrentSlot">withCurrentSlot</a> :: MonadReader <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m a -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:InitBlockGenContext">InitBlockGenContext</a> = <a href="#v:InitBlockGenContext">InitBlockGenContext</a> {<ul class="subs"><li><a href="#v:ibgcDB">ibgcDB</a> :: !<a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a></li><li><a href="#v:ibgcSystemStart">ibgcSystemStart</a> :: !<a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a></li><li><a href="#v:ibgcSlottingVar">ibgcSlottingVar</a> :: !(<a href="../base-4.9.1.0/GHC-Conc.html#t:TVar">TVar</a> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Types.html#t:SlottingData">SlottingData</a>)</li><li><a href="#v:ibgcLrcContext">ibgcLrcContext</a> :: !<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a></li><li><a href="#v:ibgcSlot">ibgcSlot</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a></li></ul>}</li><li class="src short">module <a href="Pos-Generator-Block-Param.html">Pos.Generator.Block.Param</a></li><li class="src short"><a href="#v:genPayload">genPayload</a> :: <span class="keyword">forall</span> g m. (RandomGen g, <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenRandMode">BlockGenRandMode</a> g m ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BlockGenError" class="def">BlockGenError</a> <a href="src/Pos.Generator.Block.Error.html#BlockGenError" class="link">Source</a> <a href="#t:BlockGenError" class="selflink">#</a></p><div class="doc"><p>Errors which can happen during blockchain generation.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BGUnknownSecret" class="def">BGUnknownSecret</a> !<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a></td><td class="doc"><p>Generator needs secret key of given stakeholder, but it can't
 be found in the context.</p></td></tr><tr><td class="src"><a id="v:BGUnknownAddress" class="def">BGUnknownAddress</a> !<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Address">Address</a></td><td class="doc"><p>Generator needs spending data of given address, but it can't
 be found in the context.</p></td></tr><tr><td class="src"><a id="v:BGFailedToCreate" class="def">BGFailedToCreate</a> !Text</td><td class="doc"><p>Block generator failed to create a block.</p></td></tr><tr><td class="src"><a id="v:BGCreatedInvalid" class="def">BGCreatedInvalid</a> !VerifyBlocksException</td><td class="doc"><p>Block generator created invalid block.</p></td></tr><tr><td class="src"><a id="v:BGInternal" class="def">BGInternal</a> !Text</td><td class="doc"><p>Internal error occurred.</p></td></tr></table></div><div class="subs instances"><p id="control.i:BlockGenError" class="caption collapser" onclick="toggleSection('i:BlockGenError')">Instances</p><div id="section.i:BlockGenError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenError:Show:1" class="instance expander" onclick="toggleSection('i:id:BlockGenError:Show:1')"></span> <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a></span> <a href="src/Pos.Generator.Block.Error.html#line-34" class="link">Source</a> <a href="#t:BlockGenError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenError:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a> -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a>] -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenError:Exception:2" class="instance expander" onclick="toggleSection('i:id:BlockGenError:Exception:2')"></span> <a href="../base-4.9.1.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a></span> <a href="src/Pos.Generator.Block.Error.html#line-50" class="link">Source</a> <a href="#t:BlockGenError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenError:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a> -&gt; <a href="../base-4.9.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="../base-4.9.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenError:Buildable:3" class="instance expander" onclick="toggleSection('i:id:BlockGenError:Buildable:3')"></span> Buildable <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a></span> <a href="src/Pos.Generator.Block.Error.html#line-36" class="link">Source</a> <a href="#t:BlockGenError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenError:Buildable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Generator-Block.html#t:BlockGenError">BlockGenError</a> -&gt; Builder</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:genBlocks" class="def">genBlocks</a> :: (<a href="Pos-Generator-Block.html#t:MonadBlockGen">MonadBlockGen</a> ctx m, RandomGen g) =&gt; <a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a> -&gt; RandT g m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> [] (<a href="Pos-Block-Types.html#t:Blund">Blund</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)) <a href="src/Pos.Generator.Block.Logic.html#genBlocks" class="link">Source</a> <a href="#v:genBlocks" class="selflink">#</a></p><div class="doc"><p>Generate an arbitrary sequence of valid blocks. The blocks are
 valid with respect to the global state right before this function
 call.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadBlockGenBase" class="def">MonadBlockGenBase</a> m = (WithLogger m, MonadMask m, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadBaseControl <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> m, <a href="../cardano-sl-infra-1.0.3/Pos-KnownPeers.html#t:MonadFormatPeers">MonadFormatPeers</a> m, Mockables m '[CurrentTime, Async, Catch, Throw, Delay, Concurrently], <a href="../base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> (Promise m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ())), <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-update-1.0.3/Pos-Update-Configuration.html#t:HasUpdateConfiguration">HasUpdateConfiguration</a>, <a href="../cardano-sl-infra-1.0.3/Pos-Infra-Configuration.html#t:HasInfraConfiguration">HasInfraConfiguration</a>, <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Configuration.html#t:HasNodeConfiguration">HasNodeConfiguration</a>) <a href="src/Pos.Generator.Block.Mode.html#MonadBlockGenBase" class="link">Source</a> <a href="#t:MonadBlockGenBase" class="selflink">#</a></p><div class="doc"><p>A set of constraints imposed on the base monad used for
 arbitrary blockchain generation.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadBlockGen" class="def">MonadBlockGen</a> ctx m = (<a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m, MonadReader ctx m, <a href="Pos-GState.html#t:HasGStateContext">HasGStateContext</a> ctx, <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:HasSlottingVar">HasSlottingVar</a> ctx, MonadRandom m) <a href="src/Pos.Generator.Block.Mode.html#MonadBlockGen" class="link">Source</a> <a href="#t:MonadBlockGen" class="selflink">#</a></p><div class="doc"><p>A set of constraints necessary for blockchain generation. All
 these constraints must be satistified by the generator's caller.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BlockGenContext" class="def">BlockGenContext</a> <a href="src/Pos.Generator.Block.Mode.html#BlockGenContext" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></p><div class="doc"><p>Context used by blockchain generator.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BlockGenContext" class="def">BlockGenContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:bgcPrimaryKey" class="def">bgcPrimaryKey</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Crypto-Signing-Types-Signing.html#t:SecretKey">SecretKey</a></dfn><div class="doc"><p>This field is lazy on purpose. Primary key used for block
 generation changes frequently. We don't define it initially and
 modify it using <code>local</code> when we need it. Alternative solution
 would be to define a type w/o primary key and another one with
 primary key, but it would lead to enormous amount of
 boilerplate. Also it could be put into mutable reference, but
 it's complicated too.</p></div></li><li><dfn class="src"><a id="v:bgcGState" class="def">bgcGState</a> :: !<a href="Pos-GState.html#t:GStateContext">GStateContext</a></dfn><div class="doc"><p>Currently we always use pure DB and assume it always fits in
 memory. It allows us to simply clone existing DB.</p></div></li><li><dfn class="src"><a id="v:bgcSystemStart" class="def">bgcSystemStart</a> :: !<a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcParams" class="def">bgcParams</a> :: !<a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcDelegation" class="def">bgcDelegation</a> :: !<a href="Pos-Delegation.html#t:DelegationVar">DelegationVar</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcGenStakeholders" class="def">bgcGenStakeholders</a> :: !<a href="../cardano-sl-core-1.0.3/Pos-Core-Genesis-Types.html#t:GenesisWStakeholders">GenesisWStakeholders</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcTxpMem" class="def">bgcTxpMem</a> :: !(<a href="../cardano-sl-txp-1.0.3/Pos-Txp-MemState-Types.html#t:GenericTxpLocalData">GenericTxpLocalData</a> <a href="Pos-WorkMode-Class.html#t:TxpExtra_TMP">TxpExtra_TMP</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcUpdateContext" class="def">bgcUpdateContext</a> :: !<a href="../cardano-sl-update-1.0.3/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcSscState" class="def">bgcSscState</a> :: !(<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Types.html#t:SscState">SscState</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcSlotId" class="def">bgcSlotId</a> :: !(<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a>)</dfn><div class="doc"><p>During block generation we don't want to use real time, but
 rather want to set current slot (fake one) by ourselves.</p></div></li><li><dfn class="src"><a id="v:bgcTxpGlobalSettings" class="def">bgcTxpGlobalSettings</a> :: !<a href="Pos-Context.html#t:TxpGlobalSettings">TxpGlobalSettings</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bgcReportingContext" class="def">bgcReportingContext</a> :: !<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-MemState.html#t:ReportingContext">ReportingContext</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:BlockGenContext" class="caption collapser" onclick="toggleSection('i:BlockGenContext')">Instances</p><div id="section.i:BlockGenContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasPrimaryKey:1" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasPrimaryKey:1')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Core-Context.html#t:HasPrimaryKey">HasPrimaryKey</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-294" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasPrimaryKey:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:primaryKey">primaryKey</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-core-1.0.3/Pos-Crypto-Signing-Types-Signing.html#t:SecretKey">SecretKey</a> <a href="#v:primaryKey" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasNodeType:2" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasNodeType:2')"></span> <a href="../cardano-sl-infra-1.0.3/Pos-Network-Types.html#t:HasNodeType">HasNodeType</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-315" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasNodeType:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getNodeType">getNodeType</a> :: <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> -&gt; <a href="../cardano-sl-infra-1.0.3/Pos-Network-Types.html#t:NodeType">NodeType</a> <a href="#v:getNodeType" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasReportingContext:3" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasReportingContext:3')"></span> <a href="../cardano-sl-infra-1.0.3/Pos-Reporting-MemState.html#t:HasReportingContext">HasReportingContext</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-309" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasReportingContext:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reportingContext">reportingContext</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-infra-1.0.3/Pos-Reporting-MemState.html#t:ReportingContext">ReportingContext</a> <a href="#v:reportingContext" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasSlottingVar:4" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasSlottingVar:4')"></span> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:HasSlottingVar">HasSlottingVar</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-275" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasSlottingVar:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slottingTimestamp">slottingTimestamp</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a> <a href="#v:slottingTimestamp" class="selflink">#</a></p><p class="src"><a href="#v:slottingVar">slottingVar</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:SlottingVar">SlottingVar</a> <a href="#v:slottingVar" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasSlogGState:5" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasSlogGState:5')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-297" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasSlogGState:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasGStateContext:6" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasGStateContext:6')"></span> <a href="Pos-GState.html#t:HasGStateContext">HasGStateContext</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-263" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasGStateContext:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gStateContext">gStateContext</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-GState.html#t:GStateContext">GStateContext</a> <a href="src/Pos.GState.Context.html#gStateContext" class="link">Source</a> <a href="#v:gStateContext" class="selflink">#</a></p><p class="src"><a href="#v:gscDB">gscDB</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a> <a href="src/Pos.GState.Context.html#gscDB" class="link">Source</a> <a href="#v:gscDB" class="selflink">#</a></p><p class="src"><a href="#v:gscLrcContext">gscLrcContext</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> <a href="src/Pos.GState.Context.html#gscLrcContext" class="link">Source</a> <a href="#v:gscLrcContext" class="selflink">#</a></p><p class="src"><a href="#v:gscSlogGState">gscSlogGState</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.GState.Context.html#gscSlogGState" class="link">Source</a> <a href="#v:gscSlogGState" class="selflink">#</a></p><p class="src"><a href="#v:gscSlottingVar">gscSlottingVar</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> (<a href="../base-4.9.1.0/GHC-Conc.html#t:TVar">TVar</a> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Types.html#t:SlottingData">SlottingData</a>) <a href="src/Pos.GState.Context.html#gscSlottingVar" class="link">Source</a> <a href="#v:gscSlottingVar" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasTxGenParams:7" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasTxGenParams:7')"></span> <a href="Pos-Generator-Block-Param.html#t:HasTxGenParams">HasTxGenParams</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-272" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasTxGenParams:7" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:txGenParams">txGenParams</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Generator-Block-Param.html#t:TxGenParams">TxGenParams</a> <a href="src/Pos.Generator.Block.Param.html#txGenParams" class="link">Source</a> <a href="#v:txGenParams" class="selflink">#</a></p><p class="src"><a href="#v:tgpMaxOutputs">tgpMaxOutputs</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../base-4.9.1.0/Data-Word.html#t:Word">Word</a> <a href="src/Pos.Generator.Block.Param.html#tgpMaxOutputs" class="link">Source</a> <a href="#v:tgpMaxOutputs" class="selflink">#</a></p><p class="src"><a href="#v:tgpTxCountRange">tgpTxCountRange</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> (<a href="../base-4.9.1.0/Data-Word.html#t:Word">Word</a>, <a href="../base-4.9.1.0/Data-Word.html#t:Word">Word</a>) <a href="src/Pos.Generator.Block.Param.html#tgpTxCountRange" class="link">Source</a> <a href="#v:tgpTxCountRange" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasBlockGenParams:8" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasBlockGenParams:8')"></span> <a href="Pos-Generator-Block-Param.html#t:HasBlockGenParams">HasBlockGenParams</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-269" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasBlockGenParams:8" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:blockGenParams">blockGenParams</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a> <a href="src/Pos.Generator.Block.Param.html#blockGenParams" class="link">Source</a> <a href="#v:blockGenParams" class="selflink">#</a></p><p class="src"><a href="#v:bgpBlockCount">bgpBlockCount</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> <a href="src/Pos.Generator.Block.Param.html#bgpBlockCount" class="link">Source</a> <a href="#v:bgpBlockCount" class="selflink">#</a></p><p class="src"><a href="#v:bgpGenStakeholders">bgpGenStakeholders</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Genesis-Types.html#t:GenesisWStakeholders">GenesisWStakeholders</a> <a href="src/Pos.Generator.Block.Param.html#bgpGenStakeholders" class="link">Source</a> <a href="#v:bgpGenStakeholders" class="selflink">#</a></p><p class="src"><a href="#v:bgpInplaceDB">bgpInplaceDB</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Generator.Block.Param.html#bgpInplaceDB" class="link">Source</a> <a href="#v:bgpInplaceDB" class="selflink">#</a></p><p class="src"><a href="#v:bgpSecrets">bgpSecrets</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-AllSecrets.html#t:AllSecrets">AllSecrets</a> <a href="src/Pos.Generator.Block.Param.html#bgpSecrets" class="link">Source</a> <a href="#v:bgpSecrets" class="selflink">#</a></p><p class="src"><a href="#v:bgpSkipNoKey">bgpSkipNoKey</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Generator.Block.Param.html#bgpSkipNoKey" class="link">Source</a> <a href="#v:bgpSkipNoKey" class="selflink">#</a></p><p class="src"><a href="#v:bgpTxGenParams">bgpTxGenParams</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Generator-Block-Param.html#t:TxGenParams">TxGenParams</a> <a href="src/Pos.Generator.Block.Param.html#bgpTxGenParams" class="link">Source</a> <a href="#v:bgpTxGenParams" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadSlots:9" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadSlots:9')"></span> (<a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m, <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:MonadSlotsData">MonadSlotsData</a> ctx (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)) =&gt; <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> ctx (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-345" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadSlots:9" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getCurrentSlot">getCurrentSlot</a> :: <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a>) <a href="#v:getCurrentSlot" class="selflink">#</a></p><p class="src"><a href="#v:getCurrentSlotBlocking">getCurrentSlotBlocking</a> :: <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> <a href="#v:getCurrentSlotBlocking" class="selflink">#</a></p><p class="src"><a href="#v:getCurrentSlotInaccurate">getCurrentSlotInaccurate</a> :: <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> <a href="#v:getCurrentSlotInaccurate" class="selflink">#</a></p><p class="src"><a href="#v:currentTimeSlotting">currentTimeSlotting</a> :: <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a> <a href="#v:currentTimeSlotting" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadDBRead:10" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadDBRead:10')"></span> <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-318" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadDBRead:10" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:dbGet">dbGet</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:DBTag">DBTag</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>) <a href="#v:dbGet" class="selflink">#</a></p><p class="src"><a href="#v:dbIterSource">dbIterSource</a> :: (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:DBIteratorClass">DBIteratorClass</a> i, <a href="../cardano-sl-core-1.0.3/Pos-Binary-Class-Core.html#t:Bi">Bi</a> (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:IterKey">IterKey</a> i), <a href="../cardano-sl-core-1.0.3/Pos-Binary-Class-Core.html#t:Bi">Bi</a> (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:IterValue">IterValue</a> i)) =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:DBTag">DBTag</a> -&gt; <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> i -&gt; Source (ResourceT (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)) (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:IterType">IterType</a> i) <a href="#v:dbIterSource" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadDB:11" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadDB:11')"></span> <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-322" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadDB:11" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:dbPut">dbPut</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:DBTag">DBTag</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m () <a href="#v:dbPut" class="selflink">#</a></p><p class="src"><a href="#v:dbWriteBatch">dbWriteBatch</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:DBTag">DBTag</a> -&gt; [BatchOp] -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m () <a href="#v:dbWriteBatch" class="selflink">#</a></p><p class="src"><a href="#v:dbDelete">dbDelete</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:DBTag">DBTag</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m () <a href="#v:dbDelete" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadGState:12" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadGState:12')"></span> <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadGState">MonadGState</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-360" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadGState:12" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gsAdoptedBVData">gsAdoptedBVData</a> :: <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockVersionData">BlockVersionData</a> <a href="#v:gsAdoptedBVData" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadAddresses:13" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadAddresses:13')"></span> <a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Client-Txp-Addresses.html#t:MonadAddresses">MonadAddresses</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-367" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadAddresses:13" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Pos-Client-Txp-Addresses.html#t:AddrData">AddrData</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="src/Pos.Client.Txp.Addresses.html#AddrData" class="link">Source</a> <a href="#t:AddrData" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getNewAddress">getNewAddress</a> :: <a href="Pos-Client-Txp-Addresses.html#t:AddrData">AddrData</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m) -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Address">Address</a> <a href="src/Pos.Client.Txp.Addresses.html#getNewAddress" class="link">Source</a> <a href="#v:getNewAddress" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadBListener:14" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadBListener:14')"></span> <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m =&gt; <a href="Pos-Block-BListener.html#t:MonadBListener">MonadBListener</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-363" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadBListener:14" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:onApplyBlocks">onApplyBlocks</a> :: <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc) -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-db-1.0.3/Pos-DB-BatchOp.html#t:SomeBatchOp">SomeBatchOp</a> <a href="src/Pos.Block.BListener.html#onApplyBlocks" class="link">Source</a> <a href="#v:onApplyBlocks" class="selflink">#</a></p><p class="src"><a href="#v:onRollbackBlocks">onRollbackBlocks</a> :: <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc) -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m <a href="../cardano-sl-db-1.0.3/Pos-DB-BatchOp.html#t:SomeBatchOp">SomeBatchOp</a> <a href="src/Pos.Block.BListener.html#onRollbackBlocks" class="link">Source</a> <a href="#v:onRollbackBlocks" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:15" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:15')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Genesis-Types.html#t:GenesisWStakeholders">GenesisWStakeholders</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Genesis-Types.html#t:GenesisWStakeholders">GenesisWStakeholders</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-279" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:15" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="../cardano-sl-core-1.0.3/Pos-Core-Genesis-Types.html#t:GenesisWStakeholders">GenesisWStakeholders</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:16" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:16')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-282" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:16" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:17" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:17')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-291" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:17" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:18" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:18')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Context.html#t:TxpGlobalSettings">TxpGlobalSettings</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Context.html#t:TxpGlobalSettings">TxpGlobalSettings</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-306" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:18" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="Pos-Context.html#t:TxpGlobalSettings">TxpGlobalSettings</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:19" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:19')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-update-1.0.3/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="../cardano-sl-update-1.0.3/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-285" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:19" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="../cardano-sl-update-1.0.3/Pos-Update-Context.html#t:UpdateContext">UpdateContext</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:20" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:20')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Delegation.html#t:DelegationVar">DelegationVar</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Delegation.html#t:DelegationVar">DelegationVar</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-288" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:20" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="Pos-Delegation.html#t:DelegationVar">DelegationVar</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:21" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:21')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-266" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:21" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:22" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:22')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Class.html#t:SscMemTag">SscMemTag</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Types.html#t:SscState">SscState</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)</span> <a href="src/Pos.Generator.Block.Mode.html#line-303" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:22" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Types.html#t:SscState">SscState</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>) inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:HasLens:23" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:HasLens:23')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-txp-1.0.3/Pos-Txp-MemState-Class.html#t:TxpHolderTag">TxpHolderTag</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> (<a href="../cardano-sl-txp-1.0.3/Pos-Txp-MemState-Types.html#t:GenericTxpLocalData">GenericTxpLocalData</a> <a href="Pos-WorkMode-Class.html#t:TxpExtra_TMP">TxpExtra_TMP</a>)</span> <a href="src/Pos.Generator.Block.Mode.html#line-300" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:HasLens:23" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' (<a href="../cardano-sl-txp-1.0.3/Pos-Txp-MemState-Types.html#t:GenericTxpLocalData">GenericTxpLocalData</a> <a href="Pos-WorkMode-Class.html#t:TxpExtra_TMP">TxpExtra_TMP</a>) inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadBlockDBGeneric:24" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadBlockDBGeneric:24')"></span> (<a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m) =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>) (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>) () (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-334" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadBlockDBGeneric:24" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:dbGetHeader">dbGetHeader</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>)) <a href="#v:dbGetHeader" class="selflink">#</a></p><p class="src"><a href="#v:dbGetBlock">dbGetBlock</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)) <a href="#v:dbGetBlock" class="selflink">#</a></p><p class="src"><a href="#v:dbGetUndo">dbGetUndo</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ()) <a href="#v:dbGetUndo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadBlockDBGeneric:25" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadBlockDBGeneric:25')"></span> (<a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m) =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>) (<a href="Pos-Block-Core.html#t:Block">Block</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>) <a href="Pos-Block-Types.html#t:Undo">Undo</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-327" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadBlockDBGeneric:25" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:dbGetHeader">dbGetHeader</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)) <a href="#v:dbGetHeader" class="selflink">#</a></p><p class="src"><a href="#v:dbGetBlock">dbGetBlock</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>)) <a href="#v:dbGetBlock" class="selflink">#</a></p><p class="src"><a href="#v:dbGetUndo">dbGetUndo</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>) <a href="#v:dbGetUndo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:MonadBlockDBGenericWrite:26" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:MonadBlockDBGenericWrite:26')"></span> (<a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m) =&gt; <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGenericWrite">MonadBlockDBGenericWrite</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>) (<a href="Pos-Block-Core.html#t:Block">Block</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>) <a href="Pos-Block-Types.html#t:Undo">Undo</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-341" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:MonadBlockDBGenericWrite:26" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:dbPutBlund">dbPutBlund</a> :: (<a href="Pos-Block-Core.html#t:Block">Block</a> <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Type.html#t:SscGodTossing">SscGodTossing</a>, <a href="Pos-Block-Types.html#t:Undo">Undo</a>) -&gt; <a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m () <a href="#v:dbPutBlund" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BlockGenContext:AddrData:27" class="instance expander" onclick="toggleSection('i:id:BlockGenContext:AddrData:27')"></span> <span class="keyword">type</span> <a href="Pos-Client-Txp-Addresses.html#t:AddrData">AddrData</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m)</span> <a href="src/Pos.Generator.Block.Mode.html#line-368" class="link">Source</a> <a href="#t:BlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BlockGenContext:AddrData:27" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Pos-Client-Txp-Addresses.html#t:AddrData">AddrData</a> (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m) = <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Address">Address</a></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BlockGenMode" class="def">BlockGenMode</a> m = ReaderT <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> m <a href="src/Pos.Generator.Block.Mode.html#BlockGenMode" class="link">Source</a> <a href="#t:BlockGenMode" class="selflink">#</a></p><div class="doc"><p>Execution mode for blockchain generation.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BlockGenRandMode" class="def">BlockGenRandMode</a> g m = RandT g (<a href="Pos-Generator-Block.html#t:BlockGenMode">BlockGenMode</a> m) <a href="src/Pos.Generator.Block.Mode.html#BlockGenRandMode" class="link">Source</a> <a href="#t:BlockGenRandMode" class="selflink">#</a></p><div class="doc"><p>Block generation mode with random</p></div></div><div class="top"><p class="src"><a id="v:mkBlockGenContext" class="def">mkBlockGenContext</a> :: <span class="keyword">forall</span> ctx m. (<a href="Pos-Generator-Block.html#t:MonadBlockGen">MonadBlockGen</a> ctx m, <a href="../cardano-sl-godtossing-1.0.3/Pos-Ssc-GodTossing-Configuration.html#t:HasGtConfiguration">HasGtConfiguration</a>, <a href="Pos-Configuration.html#t:HasNodeConfiguration">HasNodeConfiguration</a>) =&gt; <a href="Pos-Generator-Block-Param.html#t:BlockGenParams">BlockGenParams</a> -&gt; m <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="src/Pos.Generator.Block.Mode.html#mkBlockGenContext" class="link">Source</a> <a href="#v:mkBlockGenContext" class="selflink">#</a></p><div class="doc"><p>Make new <code><a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></code> using data provided by <code><a href="Pos-Generator-Block.html#t:MonadBlockGen">MonadBlockGen</a></code>
 context. Persistent data (DB) is cloned. Other mutable data is
 recreated.</p></div></div><div class="top"><p class="src"><a id="v:usingPrimaryKey" class="def">usingPrimaryKey</a> :: MonadReader <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Crypto-Signing-Types-Signing.html#t:SecretKey">SecretKey</a> -&gt; m a -&gt; m a <a href="src/Pos.Generator.Block.Mode.html#usingPrimaryKey" class="link">Source</a> <a href="#v:usingPrimaryKey" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withCurrentSlot" class="def">withCurrentSlot</a> :: MonadReader <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m a -&gt; m a <a href="src/Pos.Generator.Block.Mode.html#withCurrentSlot" class="link">Source</a> <a href="#v:withCurrentSlot" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InitBlockGenContext" class="def">InitBlockGenContext</a> <a href="src/Pos.Generator.Block.Mode.html#InitBlockGenContext" class="link">Source</a> <a href="#t:InitBlockGenContext" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InitBlockGenContext" class="def">InitBlockGenContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ibgcDB" class="def">ibgcDB</a> :: !<a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ibgcSystemStart" class="def">ibgcSystemStart</a> :: !<a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ibgcSlottingVar" class="def">ibgcSlottingVar</a> :: !(<a href="../base-4.9.1.0/GHC-Conc.html#t:TVar">TVar</a> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Types.html#t:SlottingData">SlottingData</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ibgcLrcContext" class="def">ibgcLrcContext</a> :: !<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ibgcSlot" class="def">ibgcSlot</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a></dfn><div class="doc"><p>All initialization will be done assuming the current slot is
 this one. It's lazy to be used with future.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:InitBlockGenContext" class="caption collapser" onclick="toggleSection('i:InitBlockGenContext')">Instances</p><div id="section.i:InitBlockGenContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InitBlockGenContext:HasSlottingVar:1" class="instance expander" onclick="toggleSection('i:id:InitBlockGenContext:HasSlottingVar:1')"></span> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:HasSlottingVar">HasSlottingVar</a> <a href="Pos-Generator-Block.html#t:InitBlockGenContext">InitBlockGenContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-229" class="link">Source</a> <a href="#t:InitBlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InitBlockGenContext:HasSlottingVar:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slottingTimestamp">slottingTimestamp</a> :: Lens' <a href="Pos-Generator-Block.html#t:InitBlockGenContext">InitBlockGenContext</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Timestamp.html#t:Timestamp">Timestamp</a> <a href="#v:slottingTimestamp" class="selflink">#</a></p><p class="src"><a href="#v:slottingVar">slottingVar</a> :: Lens' <a href="Pos-Generator-Block.html#t:InitBlockGenContext">InitBlockGenContext</a> <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-MemState.html#t:SlottingVar">SlottingVar</a> <a href="#v:slottingVar" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InitBlockGenContext:HasLens:2" class="instance expander" onclick="toggleSection('i:id:InitBlockGenContext:HasLens:2')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a> <a href="Pos-Generator-Block.html#t:InitBlockGenContext">InitBlockGenContext</a> <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-223" class="link">Source</a> <a href="#t:InitBlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InitBlockGenContext:HasLens:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="../cardano-sl-db-1.0.3/Pos-DB-Sum.html#t:DBSum">DBSum</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InitBlockGenContext:HasLens:3" class="instance expander" onclick="toggleSection('i:id:InitBlockGenContext:HasLens:3')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> <a href="Pos-Generator-Block.html#t:InitBlockGenContext">InitBlockGenContext</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a></span> <a href="src/Pos.Generator.Block.Mode.html#line-226" class="link">Source</a> <a href="#t:InitBlockGenContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InitBlockGenContext:HasLens:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lensOf">lensOf</a> :: Lens' <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> inner <a href="#v:lensOf" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src">module <a href="Pos-Generator-Block-Param.html">Pos.Generator.Block.Param</a></p></div><div class="top"><p class="src"><a id="v:genPayload" class="def">genPayload</a> :: <span class="keyword">forall</span> g m. (RandomGen g, <a href="Pos-Generator-Block.html#t:MonadBlockGenBase">MonadBlockGenBase</a> m) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; <a href="Pos-Generator-Block.html#t:BlockGenRandMode">BlockGenRandMode</a> g m () <a href="src/Pos.Generator.Block.Payload.html#genPayload" class="link">Source</a> <a href="#v:genPayload" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>