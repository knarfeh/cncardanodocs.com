<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.DB.Block</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-DB-Block.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.DB.Block.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-1.0.3: Cardano SL main implementation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.DB.Block</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Load data</a></li><li><a href="#g:2">MonadBlockDB</a></li><li><a href="#g:3">Pure implementation</a></li><li><a href="#g:4">Rocks implementation</a></li><li><a href="#g:5">DBSum implementation</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Interface to Blocks DB.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:blkGetHeader">blkGetHeader</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><a href="#v:blkGetBlock">blkGetBlock</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc)</li><li class="src short"><a href="#v:blkGetUndo">blkGetUndo</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a></li><li class="src short"><a href="#v:blkGetBlund">blkGetBlund</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc)</li><li class="src short"><a href="#v:blkGetBlockBytes">blkGetBlockBytes</a> :: <span class="keyword">forall</span> ctx m. <a href="../cardano-sl-db-1.0.3/Pos-DB-Rocks-Types.html#t:MonadRealDB">MonadRealDB</a> ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:deleteBlock">deleteBlock</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Rocks-Types.html#t:MonadRealDB">MonadRealDB</a> ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m ()</li><li class="src short"><a href="#v:prepareBlockDB">prepareBlockDB</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDBWrite">MonadBlockDBWrite</a> ssc m =&gt; <a href="Pos-Block-Core.html#t:GenesisBlock">GenesisBlock</a> ssc -&gt; m ()</li><li class="src short"><a href="#v:loadBlundsWhile">loadBlundsWhile</a> :: <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc))</li><li class="src short"><a href="#v:loadBlundsByDepth">loadBlundsByDepth</a> :: <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc))</li><li class="src short"><a href="#v:loadBlocksWhile">loadBlocksWhile</a> :: <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc))</li><li class="src short"><a href="#v:loadHeadersWhile">loadHeadersWhile</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m) =&gt; (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><a href="#v:loadHeadersByDepth">loadHeadersByDepth</a> :: (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><a href="#v:loadHeadersByDepthWhile">loadHeadersByDepthWhile</a> :: (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadBlockDB">MonadBlockDB</a> ssc m = (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc) (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) <a href="Pos-Block-Types.html#t:Undo">Undo</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadSscBlockDB">MonadSscBlockDB</a> ssc m = (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>) (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc) () m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadBlockDBWrite">MonadBlockDBWrite</a> ssc m = (<a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGenericWrite">MonadBlockDBGenericWrite</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc) (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) <a href="Pos-Block-Types.html#t:Undo">Undo</a> m)</li><li class="src short"><a href="#v:dbGetHeaderPureDefault">dbGetHeaderPureDefault</a> :: <span class="keyword">forall</span> ssc m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><a href="#v:dbGetBlockPureDefault">dbGetBlockPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc))</li><li class="src short"><a href="#v:dbGetUndoPureDefault">dbGetUndoPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>)</li><li class="src short"><a href="#v:dbGetBlockSscPureDefault">dbGetBlockSscPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc))</li><li class="src short"><a href="#v:dbGetUndoSscPureDefault">dbGetUndoSscPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ())</li><li class="src short"><a href="#v:dbGetHeaderSscPureDefault">dbGetHeaderSscPureDefault</a> :: <span class="keyword">forall</span> ssc m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>))</li><li class="src short"><a href="#v:dbPutBlundPureDefault">dbPutBlundPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc -&gt; m ()</li><li class="src short"><a href="#v:dbGetBlockDefault">dbGetBlockDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc))</li><li class="src short"><a href="#v:dbGetUndoDefault">dbGetUndoDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>)</li><li class="src short"><a href="#v:dbGetHeaderDefault">dbGetHeaderDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><a href="#v:dbGetBlockSscDefault">dbGetBlockSscDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc))</li><li class="src short"><a href="#v:dbGetUndoSscDefault">dbGetUndoSscDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ())</li><li class="src short"><a href="#v:dbGetHeaderSscDefault">dbGetHeaderSscDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>))</li><li class="src short"><a href="#v:dbPutBlundDefault">dbPutBlundDefault</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Rocks-Types.html#t:MonadRealDB">MonadRealDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc -&gt; m ()</li><li class="src short"><a href="#v:dbGetBlockSumDefault">dbGetBlockSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc))</li><li class="src short"><a href="#v:dbGetUndoSumDefault">dbGetUndoSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>)</li><li class="src short"><a href="#v:dbGetHeaderSumDefault">dbGetHeaderSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc))</li><li class="src short"><a href="#v:dbGetBlockSscSumDefault">dbGetBlockSscSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc))</li><li class="src short"><a href="#v:dbGetUndoSscSumDefault">dbGetUndoSscSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ())</li><li class="src short"><a href="#v:dbGetHeaderSscSumDefault">dbGetHeaderSscSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>))</li><li class="src short"><a href="#v:dbPutBlundSumDefault">dbPutBlundSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc -&gt; m ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:blkGetHeader" class="def">blkGetHeader</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#blkGetHeader" class="link">Source</a> <a href="#v:blkGetHeader" class="selflink">#</a></p><div class="doc"><p>Returns header of block that was requested from Block DB.</p></div></div><div class="top"><p class="src"><a id="v:blkGetBlock" class="def">blkGetBlock</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) <a href="src/Pos.DB.Block.html#blkGetBlock" class="link">Source</a> <a href="#v:blkGetBlock" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blkGetUndo" class="def">blkGetUndo</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a> <a href="src/Pos.DB.Block.html#blkGetUndo" class="link">Source</a> <a href="#v:blkGetUndo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blkGetBlund" class="def">blkGetBlund</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc) <a href="src/Pos.DB.Block.html#blkGetBlund" class="link">Source</a> <a href="#v:blkGetBlund" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blkGetBlockBytes" class="def">blkGetBlockBytes</a> :: <span class="keyword">forall</span> ctx m. <a href="../cardano-sl-db-1.0.3/Pos-DB-Rocks-Types.html#t:MonadRealDB">MonadRealDB</a> ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m $ <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Pos.DB.Block.html#blkGetBlockBytes" class="link">Source</a> <a href="#v:blkGetBlockBytes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deleteBlock" class="def">deleteBlock</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Rocks-Types.html#t:MonadRealDB">MonadRealDB</a> ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m () <a href="src/Pos.DB.Block.html#deleteBlock" class="link">Source</a> <a href="#v:deleteBlock" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prepareBlockDB" class="def">prepareBlockDB</a> :: <span class="keyword">forall</span> ssc m. <a href="Pos-DB-Block.html#t:MonadBlockDBWrite">MonadBlockDBWrite</a> ssc m =&gt; <a href="Pos-Block-Core.html#t:GenesisBlock">GenesisBlock</a> ssc -&gt; m () <a href="src/Pos.DB.Block.html#prepareBlockDB" class="link">Source</a> <a href="#v:prepareBlockDB" class="selflink">#</a></p></div><h1 id="g:1">Load data</h1><div class="top"><p class="src"><a id="v:loadBlundsWhile" class="def">loadBlundsWhile</a> :: <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc)) <a href="src/Pos.DB.Block.html#loadBlundsWhile" class="link">Source</a> <a href="#v:loadBlundsWhile" class="selflink">#</a></p><div class="doc"><p>Load blunds starting from block with header hash equal to given hash
 and while <code>predicate</code> is true.</p></div></div><div class="top"><p class="src"><a id="v:loadBlundsByDepth" class="def">loadBlundsByDepth</a> :: <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc)) <a href="src/Pos.DB.Block.html#loadBlundsByDepth" class="link">Source</a> <a href="#v:loadBlundsByDepth" class="selflink">#</a></p><div class="doc"><p>Load blunds which have depth less than given (depth = number of
 blocks that will be returned).</p></div></div><div class="top"><p class="src"><a id="v:loadBlocksWhile" class="def">loadBlocksWhile</a> :: <a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m =&gt; (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc)) <a href="src/Pos.DB.Block.html#loadBlocksWhile" class="link">Source</a> <a href="#v:loadBlocksWhile" class="selflink">#</a></p><div class="doc"><p>Load blocks starting from block with header hash equal to given hash
 and while <code>predicate</code> is true.</p></div></div><div class="top"><p class="src"><a id="v:loadHeadersWhile" class="def">loadHeadersWhile</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m) =&gt; (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#loadHeadersWhile" class="link">Source</a> <a href="#v:loadHeadersWhile" class="selflink">#</a></p><div class="doc"><p>Load headers starting from block with header hash equal to given hash
 and while <code>predicate</code> is true.</p></div></div><div class="top"><p class="src"><a id="v:loadHeadersByDepth" class="def">loadHeadersByDepth</a> :: (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#loadHeadersByDepth" class="link">Source</a> <a href="#v:loadHeadersByDepth" class="selflink">#</a></p><div class="doc"><p>Load headers which have depth less than given.</p></div></div><div class="top"><p class="src"><a id="v:loadHeadersByDepthWhile" class="def">loadHeadersByDepthWhile</a> :: (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockCount">BlockCount</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> [] (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#loadHeadersByDepthWhile" class="link">Source</a> <a href="#v:loadHeadersByDepthWhile" class="selflink">#</a></p><div class="doc"><p>Load headers which have depth less than given and match some criterion.</p></div></div><h1 id="g:2">MonadBlockDB</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadBlockDB" class="def">MonadBlockDB</a> ssc m = (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc) (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) <a href="Pos-Block-Types.html#t:Undo">Undo</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) <a href="src/Pos.DB.Block.html#MonadBlockDB" class="link">Source</a> <a href="#t:MonadBlockDB" class="selflink">#</a></p><div class="doc"><p>Specialization of <code><a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a></code> for block processing.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadSscBlockDB" class="def">MonadSscBlockDB</a> ssc m = (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGeneric">MonadBlockDBGeneric</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>) (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc) () m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) <a href="src/Pos.DB.Block.html#MonadSscBlockDB" class="link">Source</a> <a href="#t:MonadSscBlockDB" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadBlockDBWrite" class="def">MonadBlockDBWrite</a> ssc m = (<a href="Pos-DB-Block.html#t:MonadBlockDB">MonadBlockDB</a> ssc m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadBlockDBGenericWrite">MonadBlockDBGenericWrite</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc) (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) <a href="Pos-Block-Types.html#t:Undo">Undo</a> m) <a href="src/Pos.DB.Block.html#MonadBlockDBWrite" class="link">Source</a> <a href="#t:MonadBlockDBWrite" class="selflink">#</a></p><div class="doc"><p><code>MonadBlocksDB</code> with write options</p></div></div><h1 id="g:3">Pure implementation</h1><div class="top"><p class="src"><a id="v:dbGetHeaderPureDefault" class="def">dbGetHeaderPureDefault</a> :: <span class="keyword">forall</span> ssc m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetHeaderPureDefault" class="link">Source</a> <a href="#v:dbGetHeaderPureDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetBlockPureDefault" class="def">dbGetBlockPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetBlockPureDefault" class="link">Source</a> <a href="#v:dbGetBlockPureDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetUndoPureDefault" class="def">dbGetUndoPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>) <a href="src/Pos.DB.Block.html#dbGetUndoPureDefault" class="link">Source</a> <a href="#v:dbGetUndoPureDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetBlockSscPureDefault" class="def">dbGetBlockSscPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetBlockSscPureDefault" class="link">Source</a> <a href="#v:dbGetBlockSscPureDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetUndoSscPureDefault" class="def">dbGetUndoSscPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ()) <a href="src/Pos.DB.Block.html#dbGetUndoSscPureDefault" class="link">Source</a> <a href="#v:dbGetUndoSscPureDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetHeaderSscPureDefault" class="def">dbGetHeaderSscPureDefault</a> :: <span class="keyword">forall</span> ssc m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>)) <a href="src/Pos.DB.Block.html#dbGetHeaderSscPureDefault" class="link">Source</a> <a href="#v:dbGetHeaderSscPureDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbPutBlundPureDefault" class="def">dbPutBlundPureDefault</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Pure.html#t:MonadPureDB">MonadPureDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc -&gt; m () <a href="src/Pos.DB.Block.html#dbPutBlundPureDefault" class="link">Source</a> <a href="#v:dbPutBlundPureDefault" class="selflink">#</a></p></div><h1 id="g:4">Rocks implementation</h1><div class="top"><p class="src"><a id="v:dbGetBlockDefault" class="def">dbGetBlockDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetBlockDefault" class="link">Source</a> <a href="#v:dbGetBlockDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetUndoDefault" class="def">dbGetUndoDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>) <a href="src/Pos.DB.Block.html#dbGetUndoDefault" class="link">Source</a> <a href="#v:dbGetUndoDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetHeaderDefault" class="def">dbGetHeaderDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetHeaderDefault" class="link">Source</a> <a href="#v:dbGetHeaderDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetBlockSscDefault" class="def">dbGetBlockSscDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetBlockSscDefault" class="link">Source</a> <a href="#v:dbGetBlockSscDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetUndoSscDefault" class="def">dbGetUndoSscDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ()) <a href="src/Pos.DB.Block.html#dbGetUndoSscDefault" class="link">Source</a> <a href="#v:dbGetUndoSscDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetHeaderSscDefault" class="def">dbGetHeaderSscDefault</a> :: <span class="keyword">forall</span> ssc ctx m. BlockDBGenericDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>)) <a href="src/Pos.DB.Block.html#dbGetHeaderSscDefault" class="link">Source</a> <a href="#v:dbGetHeaderSscDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbPutBlundDefault" class="def">dbPutBlundDefault</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Rocks-Types.html#t:MonadRealDB">MonadRealDB</a> ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc -&gt; m () <a href="src/Pos.DB.Block.html#dbPutBlundDefault" class="link">Source</a> <a href="#v:dbPutBlundDefault" class="selflink">#</a></p></div><h1 id="g:5">DBSum implementation</h1><div class="top"><p class="src"><a id="v:dbGetBlockSumDefault" class="def">dbGetBlockSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetBlockSumDefault" class="link">Source</a> <a href="#v:dbGetBlockSumDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetUndoSumDefault" class="def">dbGetUndoSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Block-Types.html#t:Undo">Undo</a>) <a href="src/Pos.DB.Block.html#dbGetUndoSumDefault" class="link">Source</a> <a href="#v:dbGetUndoSumDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetHeaderSumDefault" class="def">dbGetHeaderSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Pos-Block-Core.html#t:BlockHeader">BlockHeader</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetHeaderSumDefault" class="link">Source</a> <a href="#v:dbGetHeaderSumDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetBlockSscSumDefault" class="def">dbGetBlockSscSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Types.html#t:SscBlock">SscBlock</a> ssc)) <a href="src/Pos.DB.Block.html#dbGetBlockSscSumDefault" class="link">Source</a> <a href="#v:dbGetBlockSscSumDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetUndoSscSumDefault" class="def">dbGetUndoSscSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> ()) <a href="src/Pos.DB.Block.html#dbGetUndoSscSumDefault" class="link">Source</a> <a href="#v:dbGetUndoSscSumDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbGetHeaderSscSumDefault" class="def">dbGetHeaderSscSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsHeader">IsHeader</a>)) <a href="src/Pos.DB.Block.html#dbGetHeaderSscSumDefault" class="link">Source</a> <a href="#v:dbGetHeaderSscSumDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dbPutBlundSumDefault" class="def">dbPutBlundSumDefault</a> :: <span class="keyword">forall</span> ssc ctx m. DBSumDefaultEnv ssc ctx m =&gt; <a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc -&gt; m () <a href="src/Pos.DB.Block.html#dbPutBlundSumDefault" class="link">Source</a> <a href="#v:dbPutBlundSumDefault" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>