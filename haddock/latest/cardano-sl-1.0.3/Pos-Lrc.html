<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Lrc</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Lrc.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Lrc.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-1.0.3: Cardano SL main implementation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Lrc</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Getters</a></li><li><a href="#g:2">Operations</a></li><li><a href="#g:3">Initialization</a></li><li><a href="#g:4">Helpers</a></li><li><a href="#g:5">Initialization</a></li><li><a href="#g:6">Concrete instances</a><ul><li><a href="#g:7">Ssc</a></li><li><a href="#g:8">US</a></li><li><a href="#g:9">Delegation</a></li></ul></li><li><a href="#g:10">Exported for tests</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Leaders and richmen computation.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Arbitrary-Lrc.html">Pos.Arbitrary.Lrc</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html">Pos.Lrc.Class</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Consumer.html">Pos.Lrc.Consumer</a></li><li class="src short"><a href="#v:allLrcConsumers">allLrcConsumers</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Mode.html#t:LrcMode">LrcMode</a> ssc ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Workers.html#t:SscWorkersClass">SscWorkersClass</a> ssc) =&gt; [<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Consumer.html#t:LrcConsumer">LrcConsumer</a> m]</li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html">Pos.Lrc.Context</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Core.html">Pos.Lrc.Core</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-DB-Common.html">Pos.Lrc.DB.Common</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-DB-Issuers.html">Pos.Lrc.DB.Issuers</a></li><li class="src short"><a href="#v:getLeadersForEpoch">getLeadersForEpoch</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotLeaders">SlotLeaders</a>)</li><li class="src short"><a href="#v:getLeader">getLeader</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>)</li><li class="src short"><a href="#v:putLeadersForEpoch">putLeadersForEpoch</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotLeaders">SlotLeaders</a> -&gt; m ()</li><li class="src short"><a href="#v:prepareLrcLeaders">prepareLrcLeaders</a> :: (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; m ()</li><li class="src short"><a href="#v:hasLeaders">hasLeaders</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:prepareLrcDB">prepareLrcDB</a> :: (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; m ()</li><li class="src short"><a href="#v:prepareLrcRichmen">prepareLrcRichmen</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m) =&gt; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:RCSsc">RCSsc</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:getRichmenSsc">getRichmenSsc</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:RCUs">RCUs</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:getRichmenUS">getRichmenUS</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:RCDlg">RCDlg</a></li><li class="src short"><a href="#v:getRichmenDlg">getRichmenDlg</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenSet">RichmenSet</a>)</li><li class="src short"><a href="#v:richmenComponents">richmenComponents</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a> =&gt; [<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:SomeRichmenComponent">SomeRichmenComponent</a>]</li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-DB-Seed.html">Pos.Lrc.DB.Seed</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Error.html">Pos.Lrc.Error</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Fts.html">Pos.Lrc.Fts</a></li><li class="src short">module <a href="Pos-Lrc-FtsPure.html">Pos.Lrc.FtsPure</a></li><li class="src short"><a href="#v:findRichmenStakes">findRichmenStakes</a> :: <a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; Sink (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>) m <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a></li><li class="src short"><a href="#v:findRichmenPure">findRichmenPure</a> :: [(<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>)] -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:CoinPortion">CoinPortion</a> -&gt; <a href="Pos-Lrc.html#t:RichmenType">RichmenType</a> -&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a></li><li class="src short"><a href="#v:findAllRichmenMaybe">findAllRichmenMaybe</a> :: <span class="keyword">forall</span> m. MonadDBReadFull m =&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; Sink (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>) m (<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a>, <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a>)</li><li class="src short"><a href="#v:findDelegatedRichmen">findDelegatedRichmen</a> :: MonadDBReadFull m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; Sink (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>) m <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RichmenType">RichmenType</a><ul class="subs"><li>= <a href="#v:RTUsual">RTUsual</a></li><li>| <a href="#v:RTDelegation">RTDelegation</a> (HashMap <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> (HashSet <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>))</li></ul></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Mode.html">Pos.Lrc.Mode</a></li><li class="src short">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html">Pos.Lrc.Types</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:LrcModeFull">LrcModeFull</a> ssc ctx m = (<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Mode.html#t:LrcMode">LrcMode</a> ssc ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Workers.html#t:SscWorkersClass">SscWorkersClass</a> ssc, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Class.html#t:MonadSscMem">MonadSscMem</a> ssc ctx m, <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> ctx m, <a href="Pos-Block-Logic.html#t:MonadBlockApply">MonadBlockApply</a> ssc ctx m, MonadReader ctx m)</li><li class="src short"><a href="#v:lrcSingleShot">lrcSingleShot</a> :: <span class="keyword">forall</span> ssc ctx m. <a href="Pos-Lrc.html#t:LrcModeFull">LrcModeFull</a> ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Arbitrary-Lrc.html">Pos.Arbitrary.Lrc</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html">Pos.Lrc.Class</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Consumer.html">Pos.Lrc.Consumer</a></p></div><div class="top"><p class="src"><a id="v:allLrcConsumers" class="def">allLrcConsumers</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Mode.html#t:LrcMode">LrcMode</a> ssc ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Workers.html#t:SscWorkersClass">SscWorkersClass</a> ssc) =&gt; [<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Consumer.html#t:LrcConsumer">LrcConsumer</a> m] <a href="src/Pos.Lrc.Consumers.html#allLrcConsumers" class="link">Source</a> <a href="#v:allLrcConsumers" class="selflink">#</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html">Pos.Lrc.Context</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Core.html">Pos.Lrc.Core</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-DB-Common.html">Pos.Lrc.DB.Common</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-DB-Issuers.html">Pos.Lrc.DB.Issuers</a></p></div><h1 id="g:1">Getters</h1><div class="top"><p class="src"><a id="v:getLeadersForEpoch" class="def">getLeadersForEpoch</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotLeaders">SlotLeaders</a>) <a href="src/Pos.Lrc.DB.Leaders.html#getLeadersForEpoch" class="link">Source</a> <a href="#v:getLeadersForEpoch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getLeader" class="def">getLeader</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>) <a href="src/Pos.Lrc.DB.Leaders.html#getLeader" class="link">Source</a> <a href="#v:getLeader" class="selflink">#</a></p></div><h1 id="g:2">Operations</h1><div class="top"><p class="src"><a id="v:putLeadersForEpoch" class="def">putLeadersForEpoch</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotLeaders">SlotLeaders</a> -&gt; m () <a href="src/Pos.Lrc.DB.Leaders.html#putLeadersForEpoch" class="link">Source</a> <a href="#v:putLeadersForEpoch" class="selflink">#</a></p><div class="doc"><p>Put leaders for all slots in the specified epoch in the DB.
 The DB contains two mappings:
 * EpochIndex -&gt; SlotLeaders
 * SlotId -&gt; StakeholderId (added in CSE-240)</p></div></div><h1 id="g:3">Initialization</h1><div class="top"><p class="src"><a id="v:prepareLrcLeaders" class="def">prepareLrcLeaders</a> :: (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; m () <a href="src/Pos.Lrc.DB.Leaders.html#prepareLrcLeaders" class="link">Source</a> <a href="#v:prepareLrcLeaders" class="selflink">#</a></p></div><h1 id="g:4">Helpers</h1><div class="top"><p class="src"><a id="v:hasLeaders" class="def">hasLeaders</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Lrc.DB.Leaders.html#hasLeaders" class="link">Source</a> <a href="#v:hasLeaders" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prepareLrcDB" class="def">prepareLrcDB</a> :: (<a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; m () <a href="src/Pos.Lrc.DB.Lrc.html#prepareLrcDB" class="link">Source</a> <a href="#v:prepareLrcDB" class="selflink">#</a></p><div class="doc"><p>Put missing initial data into LRC DB.</p></div></div><h1 id="g:5">Initialization</h1><div class="top"><p class="src"><a id="v:prepareLrcRichmen" class="def">prepareLrcRichmen</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m) =&gt; m () <a href="src/Pos.Lrc.DB.Richmen.html#prepareLrcRichmen" class="link">Source</a> <a href="#v:prepareLrcRichmen" class="selflink">#</a></p></div><h1 id="g:6">Concrete instances</h1><h2 id="g:7">Ssc</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RCSsc" class="def">RCSsc</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:RCSsc" class="selflink">#</a></p><div class="subs instances"><p id="control.i:RCSsc" class="caption collapser" onclick="toggleSection('i:RCSsc')">Instances</p><div id="section.i:RCSsc" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RCSsc:RichmenComponent:1" class="instance expander" onclick="toggleSection('i:id:RCSsc:RichmenComponent:1')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration-BlockVersionData.html#t:HasGenesisBlockVersionData">HasGenesisBlockVersionData</a> =&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenComponent">RichmenComponent</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RCSsc:RichmenComponent:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:RichmenData" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rcToData">rcToData</a> :: <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a> -&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a> <a href="#v:rcToData" class="selflink">#</a></p><p class="src"><a href="#v:rcTag">rcTag</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:rcTag" class="selflink">#</a></p><p class="src"><a href="#v:rcInitialThreshold">rcInitialThreshold</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:CoinPortion">CoinPortion</a> <a href="#v:rcInitialThreshold" class="selflink">#</a></p><p class="src"><a href="#v:rcConsiderDelegated">rcConsiderDelegated</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:rcConsiderDelegated" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RCSsc:RichmenData:2" class="instance expander" onclick="toggleSection('i:id:RCSsc:RichmenData:2')"></span> <span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RCSsc:RichmenData:2" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCSsc">RCSsc</a> = <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:getRichmenSsc" class="def">getRichmenSsc</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a>) <a href="#v:getRichmenSsc" class="selflink">#</a></p></div><h2 id="g:8">US</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RCUs" class="def">RCUs</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:RCUs" class="selflink">#</a></p><div class="subs instances"><p id="control.i:RCUs" class="caption collapser" onclick="toggleSection('i:RCUs')">Instances</p><div id="section.i:RCUs" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RCUs:RichmenComponent:1" class="instance expander" onclick="toggleSection('i:id:RCUs:RichmenComponent:1')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration-BlockVersionData.html#t:HasGenesisBlockVersionData">HasGenesisBlockVersionData</a> =&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenComponent">RichmenComponent</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RCUs:RichmenComponent:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:RichmenData" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rcToData">rcToData</a> :: <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a> -&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a> <a href="#v:rcToData" class="selflink">#</a></p><p class="src"><a href="#v:rcTag">rcTag</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:rcTag" class="selflink">#</a></p><p class="src"><a href="#v:rcInitialThreshold">rcInitialThreshold</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:CoinPortion">CoinPortion</a> <a href="#v:rcInitialThreshold" class="selflink">#</a></p><p class="src"><a href="#v:rcConsiderDelegated">rcConsiderDelegated</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:rcConsiderDelegated" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RCUs:RichmenData:2" class="instance expander" onclick="toggleSection('i:id:RCUs:RichmenData:2')"></span> <span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RCUs:RichmenData:2" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCUs">RCUs</a> = <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:getRichmenUS" class="def">getRichmenUS</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a>) <a href="#v:getRichmenUS" class="selflink">#</a></p></div><h2 id="g:9">Delegation</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RCDlg" class="def">RCDlg</a> <a href="src/Pos.Lrc.DB.Richmen.html#RCDlg" class="link">Source</a> <a href="#t:RCDlg" class="selflink">#</a></p><div class="subs instances"><p id="control.i:RCDlg" class="caption collapser" onclick="toggleSection('i:RCDlg')">Instances</p><div id="section.i:RCDlg" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RCDlg:RichmenComponent:1" class="instance expander" onclick="toggleSection('i:id:RCDlg:RichmenComponent:1')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a> =&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenComponent">RichmenComponent</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a></span> <a href="src/Pos.Lrc.DB.Richmen.html#line-95" class="link">Source</a> <a href="#t:RCDlg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RCDlg:RichmenComponent:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:RichmenData" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rcToData">rcToData</a> :: <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a> -&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a> <a href="#v:rcToData" class="selflink">#</a></p><p class="src"><a href="#v:rcTag">rcTag</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> <a href="#v:rcTag" class="selflink">#</a></p><p class="src"><a href="#v:rcInitialThreshold">rcInitialThreshold</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:CoinPortion">CoinPortion</a> <a href="#v:rcInitialThreshold" class="selflink">#</a></p><p class="src"><a href="#v:rcConsiderDelegated">rcConsiderDelegated</a> :: <a href="../base-4.9.1.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:rcConsiderDelegated" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:RCDlg:RichmenData:2" class="instance expander" onclick="toggleSection('i:id:RCDlg:RichmenData:2')"></span> <span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a></span> <a href="src/Pos.Lrc.DB.Richmen.html#line-96" class="link">Source</a> <a href="#t:RCDlg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:RCDlg:RichmenData:2" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:RichmenData">RichmenData</a> <a href="Pos-Lrc.html#t:RCDlg">RCDlg</a> = <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenSet">RichmenSet</a></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:getRichmenDlg" class="def">getRichmenDlg</a> :: <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenSet">RichmenSet</a>) <a href="src/Pos.Lrc.DB.Richmen.html#getRichmenDlg" class="link">Source</a> <a href="#v:getRichmenDlg" class="selflink">#</a></p></div><h1 id="g:10">Exported for tests</h1><div class="top"><p class="src"><a id="v:richmenComponents" class="def">richmenComponents</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a> =&gt; [<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Class.html#t:SomeRichmenComponent">SomeRichmenComponent</a>] <a href="src/Pos.Lrc.DB.Richmen.html#richmenComponents" class="link">Source</a> <a href="#v:richmenComponents" class="selflink">#</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-DB-Seed.html">Pos.Lrc.DB.Seed</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Error.html">Pos.Lrc.Error</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Fts.html">Pos.Lrc.Fts</a></p></div><div class="top"><p class="src">module <a href="Pos-Lrc-FtsPure.html">Pos.Lrc.FtsPure</a></p></div><div class="top"><p class="src"><a id="v:findRichmenStakes" class="def">findRichmenStakes</a> <a href="#v:findRichmenStakes" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a></td><td class="doc"><p>Eligibility threshold</p></td></tr><tr><td class="src">-&gt; Sink (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>) m <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Find nodes which have at least 'eligibility threshold' coins.</p></div></div><div class="top"><p class="src"><a id="v:findRichmenPure" class="def">findRichmenPure</a> <a href="src/Pos.Lrc.Logic.html#findRichmenPure" class="link">Source</a> <a href="#v:findRichmenPure" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:CoinPortion">CoinPortion</a></td><td class="doc"><p>Richman eligibility as % of total stake</p></td></tr><tr><td class="src">-&gt; <a href="Pos-Lrc.html#t:RichmenType">RichmenType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:FullRichmenData">FullRichmenData</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Pure version of <code>findRichmen</code> which uses a list of stakeholders.</p></div></div><div class="top"><p class="src"><a id="v:findAllRichmenMaybe" class="def">findAllRichmenMaybe</a> <a href="src/Pos.Lrc.Logic.html#findAllRichmenMaybe" class="link">Source</a> <a href="#v:findAllRichmenMaybe" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadDBReadFull m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a></td><td class="doc"><p>Eligibility threshold (optional)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a></td><td class="doc"><p>Delegation threshold (optional)</p></td></tr><tr><td class="src">-&gt; Sink (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>) m (<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a>, <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Function considers all variants of computation
 and compute using one pass by stake DB and one pass by delegation DB.</p></div></div><div class="top"><p class="src"><a id="v:findDelegatedRichmen" class="def">findDelegatedRichmen</a> :: MonadDBReadFull m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; Sink (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:Coin">Coin</a>) m <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html#t:RichmenStakes">RichmenStakes</a> <a href="src/Pos.Lrc.Logic.html#findDelegatedRichmen" class="link">Source</a> <a href="#v:findDelegatedRichmen" class="selflink">#</a></p><div class="doc"><p>Find delegated richmen.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RichmenType" class="def">RichmenType</a> <a href="src/Pos.Lrc.Logic.html#RichmenType" class="link">Source</a> <a href="#t:RichmenType" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RTUsual" class="def">RTUsual</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RTDelegation" class="def">RTDelegation</a> (HashMap <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> (HashSet <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a>))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Mode.html">Pos.Lrc.Mode</a></p></div><div class="top"><p class="src">module <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Types.html">Pos.Lrc.Types</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LrcModeFull" class="def">LrcModeFull</a> ssc ctx m = (<a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Mode.html#t:LrcMode">LrcMode</a> ssc ctx m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Workers.html#t:SscWorkersClass">SscWorkersClass</a> ssc, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Extra-Class.html#t:MonadSscMem">MonadSscMem</a> ssc ctx m, <a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> ctx m, <a href="Pos-Block-Logic.html#t:MonadBlockApply">MonadBlockApply</a> ssc ctx m, MonadReader ctx m) <a href="src/Pos.Lrc.Worker.html#LrcModeFull" class="link">Source</a> <a href="#t:LrcModeFull" class="selflink">#</a></p><div class="doc"><p><code><a href="Pos-Lrc.html#t:LrcModeFull">LrcModeFull</a></code> contains all constraints necessary to launch LRC.</p></div></div><div class="top"><p class="src"><a id="v:lrcSingleShot" class="def">lrcSingleShot</a> :: <span class="keyword">forall</span> ssc ctx m. <a href="Pos-Lrc.html#t:LrcModeFull">LrcModeFull</a> ssc ctx m =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a> -&gt; m () <a href="src/Pos.Lrc.Worker.html#lrcSingleShot" class="link">Source</a> <a href="#v:lrcSingleShot" class="selflink">#</a></p><div class="doc"><p>Run leaders and richmen computation for given epoch. If stable
 block for this epoch is not known, LrcError will be thrown.
 It assumes that <code>StateLock</code> is taken already.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>