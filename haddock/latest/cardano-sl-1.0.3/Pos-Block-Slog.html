<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Block.Slog</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Block-Slog.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Block.Slog.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-1.0.3: Cardano SL main implementation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Block.Slog</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:SlogGState">SlogGState</a> = <a href="#v:SlogGState">SlogGState</a> {<ul class="subs"><li><a href="#v:_sgsLastBlkSlots">_sgsLastBlkSlots</a> :: <a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SlogContext">SlogContext</a> = <a href="#v:SlogContext">SlogContext</a> {<ul class="subs"><li><a href="#v:_scGState">_scGState</a> :: !<a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></li><li><a href="#v:_scCQkMonitorState">_scCQkMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</li><li><a href="#v:_scCQOverallMonitorState">_scCQOverallMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</li><li><a href="#v:_scCQFixedMonitorState">_scCQFixedMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</li><li><a href="#v:_scDifficultyMonitorState">_scDifficultyMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>)</li><li><a href="#v:_scEpochMonitorState">_scEpochMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>)</li><li><a href="#v:_scLocalSlotMonitorState">_scLocalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>)</li><li><a href="#v:_scGlobalSlotMonitorState">_scGlobalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>)</li><li><a href="#v:_scCrucialValuesLabel">_scCrucialValuesLabel</a> :: !Label</li></ul>}</li><li class="src short"><a href="#v:mkSlogGState">mkSlogGState</a> :: (<a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m) =&gt; m <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></li><li class="src short"><a href="#v:mkSlogContext">mkSlogContext</a> :: (<a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; Store -&gt; m <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></li><li class="src short"><a href="#v:cloneSlogGState">cloneSlogGState</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> -&gt; m <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></li><li class="src short"><a href="#v:slogGetLastSlots">slogGetLastSlots</a> :: (MonadReader ctx m, <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> ctx, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; m <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></li><li class="src short"><a href="#v:slogPutLastSlots">slogPutLastSlots</a> :: (MonadReader ctx m, <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> ctx, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a> -&gt; m ()</li><li class="src short"><a href="#v:mustDataBeKnown">mustDataBeKnown</a> :: <a href="../cardano-sl-update-1.0.3/Pos-Update-Configuration.html#t:HasUpdateConfiguration">HasUpdateConfiguration</a> =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockVersion">BlockVersion</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadSlogBase">MonadSlogBase</a> ssc ctx m = (<a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> ctx m, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, WithLogger m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-update-1.0.3/Pos-Update-Configuration.html#t:HasUpdateConfiguration">HasUpdateConfiguration</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadSlogVerify">MonadSlogVerify</a> ssc ctx m = (<a href="Pos-Block-Slog.html#t:MonadSlogBase">MonadSlogBase</a> ssc ctx m, MonadReader ctx m, <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> ctx <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a>)</li><li class="src short"><a href="#v:slogVerifyBlocks">slogVerifyBlocks</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="Pos-Block-Slog.html#t:MonadSlogVerify">MonadSlogVerify</a> ssc ctx m, MonadError Text m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> <a href="Pos-Block-Slog.html#t:SlogUndo">SlogUndo</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadSlogApply">MonadSlogApply</a> ssc ctx m = (<a href="Pos-Block-Slog.html#t:MonadSlogBase">MonadSlogBase</a> ssc ctx m, <a href="Pos-DB-Block.html#t:MonadBlockDBWrite">MonadBlockDBWrite</a> ssc m, <a href="Pos-Block-BListener.html#t:MonadBListener">MonadBListener</a> m, MonadMask m, MonadReader ctx m, <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> ctx)</li><li class="src short"><a href="#v:slogApplyBlocks">slogApplyBlocks</a> :: <span class="keyword">forall</span> ssc ctx m. <a href="Pos-Block-Slog.html#t:MonadSlogApply">MonadSlogApply</a> ssc ctx m =&gt; <a href="Pos-Block-Slog.html#t:ShouldCallBListener">ShouldCallBListener</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc) -&gt; m <a href="../cardano-sl-db-1.0.3/Pos-DB-BatchOp.html#t:SomeBatchOp">SomeBatchOp</a></li><li class="src short"><a href="#v:slogRollbackBlocks">slogRollbackBlocks</a> :: <span class="keyword">forall</span> ssc ctx m. <a href="Pos-Block-Slog.html#t:MonadSlogApply">MonadSlogApply</a> ssc ctx m =&gt; <a href="Pos-Block-Slog.html#t:BypassSecurityCheck">BypassSecurityCheck</a> -&gt; <a href="Pos-Block-Slog.html#t:ShouldCallBListener">ShouldCallBListener</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc) -&gt; m <a href="../cardano-sl-db-1.0.3/Pos-DB-BatchOp.html#t:SomeBatchOp">SomeBatchOp</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:BypassSecurityCheck">BypassSecurityCheck</a> = <a href="#v:BypassSecurityCheck">BypassSecurityCheck</a> <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:ShouldCallBListener">ShouldCallBListener</a> = <a href="#v:ShouldCallBListener">ShouldCallBListener</a> <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:LastBlkSlots">LastBlkSlots</a> = <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> [] <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a></li><li class="src short"><a href="#v:noLastBlkSlots">noLastBlkSlots</a> :: <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SlogGState">SlogGState</a> = <a href="#v:SlogGState">SlogGState</a> {<ul class="subs"><li><a href="#v:_sgsLastBlkSlots">_sgsLastBlkSlots</a> :: <a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasSlogGState">HasSlogGState</a> c <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:SlogContext">SlogContext</a> = <a href="#v:SlogContext">SlogContext</a> {<ul class="subs"><li><a href="#v:_scGState">_scGState</a> :: !<a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></li><li><a href="#v:_scCQkMonitorState">_scCQkMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</li><li><a href="#v:_scCQOverallMonitorState">_scCQOverallMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</li><li><a href="#v:_scCQFixedMonitorState">_scCQFixedMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</li><li><a href="#v:_scDifficultyMonitorState">_scDifficultyMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>)</li><li><a href="#v:_scEpochMonitorState">_scEpochMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>)</li><li><a href="#v:_scLocalSlotMonitorState">_scLocalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>)</li><li><a href="#v:_scGlobalSlotMonitorState">_scGlobalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>)</li><li><a href="#v:_scCrucialValuesLabel">_scCrucialValuesLabel</a> :: !Label</li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasSlogContext">HasSlogContext</a> c <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:SlogUndo">SlogUndo</a> = <a href="#v:SlogUndo">SlogUndo</a> {<ul class="subs"><li><a href="#v:getSlogUndo">getSlogUndo</a> :: <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a></li></ul>}</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SlogGState" class="def">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#SlogGState" class="link">Source</a> <a href="#t:SlogGState" class="selflink">#</a></p><div class="doc"><p>In-memory representation of Slog (aka BlockExtra) part of
 GState. Note that it contains only part of BlockExtra.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SlogGState" class="def">SlogGState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_sgsLastBlkSlots" class="def">_sgsLastBlkSlots</a> :: <a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></dfn><div class="doc"><p>Slots for which last blocks in our chain were created. This
 information is also stored in DB, but we don't want to read it
 every time.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlogGState" class="caption collapser" onclick="toggleSection('i:SlogGState')">Instances</p><div id="section.i:SlogGState" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogGState:HasSlogGState:1" class="instance expander" onclick="toggleSection('i:id:SlogGState:HasSlogGState:1')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></span> <a href="src/Pos.Block.Slog.Types.html#line-47" class="link">Source</a> <a href="#t:SlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogGState:HasSlogGState:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SlogContext" class="def">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#SlogContext" class="link">Source</a> <a href="#t:SlogContext" class="selflink">#</a></p><div class="doc"><p>All in-memory data used by Slog.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SlogContext" class="def">SlogContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_scGState" class="def">_scGState</a> :: !<a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></dfn><div class="doc"><p>Slots for which last blocks in our chain were created. This
 information is also stored in DB, but we don't want to read it
 every time.</p></div></li><li><dfn class="src"><a id="v:_scCQkMonitorState" class="def">_scCQkMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of chain
 quality for last <code>k</code> blocks.</p></div></li><li><dfn class="src"><a id="v:_scCQOverallMonitorState" class="def">_scCQOverallMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of overall chain
 quality.</p></div></li><li><dfn class="src"><a id="v:_scCQFixedMonitorState" class="def">_scCQFixedMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of chain
 quality for fixed amount of time.</p></div></li><li><dfn class="src"><a id="v:_scDifficultyMonitorState" class="def">_scDifficultyMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of overall
 chain difficulty (i. e. total number of main blocks created so far).</p></div></li><li><dfn class="src"><a id="v:_scEpochMonitorState" class="def">_scEpochMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of current epoch.</p></div></li><li><dfn class="src"><a id="v:_scLocalSlotMonitorState" class="def">_scLocalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of current local slot.</p></div></li><li><dfn class="src"><a id="v:_scGlobalSlotMonitorState" class="def">_scGlobalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of current global slot.</p></div></li><li><dfn class="src"><a id="v:_scCrucialValuesLabel" class="def">_scCrucialValuesLabel</a> :: !Label</dfn><div class="doc"><p>A <code>Label</code> for crucial values.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlogContext" class="caption collapser" onclick="toggleSection('i:SlogContext')">Instances</p><div id="section.i:SlogContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogContext:HasSlogGState:1" class="instance expander" onclick="toggleSection('i:id:SlogContext:HasSlogGState:1')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-79" class="link">Source</a> <a href="#t:SlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogContext:HasSlogGState:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogContext:HasSlogContext:2" class="instance expander" onclick="toggleSection('i:id:SlogContext:HasSlogContext:2')"></span> <a href="Pos-Block-Slog.html#t:HasSlogContext">HasSlogContext</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-77" class="link">Source</a> <a href="#t:SlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogContext:HasSlogContext:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogContext">slogContext</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#slogContext" class="link">Source</a> <a href="#v:slogContext" class="selflink">#</a></p><p class="src"><a href="#v:scCQFixedMonitorState">scCQFixedMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQFixedMonitorState" class="link">Source</a> <a href="#v:scCQFixedMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQOverallMonitorState">scCQOverallMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQOverallMonitorState" class="link">Source</a> <a href="#v:scCQOverallMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQkMonitorState">scCQkMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQkMonitorState" class="link">Source</a> <a href="#v:scCQkMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCrucialValuesLabel">scCrucialValuesLabel</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> Label <a href="src/Pos.Block.Slog.Types.html#scCrucialValuesLabel" class="link">Source</a> <a href="#v:scCrucialValuesLabel" class="selflink">#</a></p><p class="src"><a href="#v:scDifficultyMonitorState">scDifficultyMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Block.Slog.Types.html#scDifficultyMonitorState" class="link">Source</a> <a href="#v:scDifficultyMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scEpochMonitorState">scEpochMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scEpochMonitorState" class="link">Source</a> <a href="#v:scEpochMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scGState">scGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#scGState" class="link">Source</a> <a href="#v:scGState" class="selflink">#</a></p><p class="src"><a href="#v:scGlobalSlotMonitorState">scGlobalSlotMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>) <a href="src/Pos.Block.Slog.Types.html#scGlobalSlotMonitorState" class="link">Source</a> <a href="#v:scGlobalSlotMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scLocalSlotMonitorState">scLocalSlotMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scLocalSlotMonitorState" class="link">Source</a> <a href="#v:scLocalSlotMonitorState" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:mkSlogGState" class="def">mkSlogGState</a> :: (<a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m) =&gt; m <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Context.html#mkSlogGState" class="link">Source</a> <a href="#v:mkSlogGState" class="selflink">#</a></p><div class="doc"><p>Make new <code><a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></code> using data from DB.</p></div></div><div class="top"><p class="src"><a id="v:mkSlogContext" class="def">mkSlogContext</a> :: (<a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>) =&gt; Store -&gt; m <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Context.html#mkSlogContext" class="link">Source</a> <a href="#v:mkSlogContext" class="selflink">#</a></p><div class="doc"><p>Make new <code><a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></code> using data from DB.</p></div></div><div class="top"><p class="src"><a id="v:cloneSlogGState" class="def">cloneSlogGState</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> -&gt; m <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Context.html#cloneSlogGState" class="link">Source</a> <a href="#v:cloneSlogGState" class="selflink">#</a></p><div class="doc"><p>Make a copy of existing <code><a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:slogGetLastSlots" class="def">slogGetLastSlots</a> :: (MonadReader ctx m, <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> ctx, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; m <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a> <a href="src/Pos.Block.Slog.Context.html#slogGetLastSlots" class="link">Source</a> <a href="#v:slogGetLastSlots" class="selflink">#</a></p><div class="doc"><p>Read <code><a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></code> from in-memory state.</p></div></div><div class="top"><p class="src"><a id="v:slogPutLastSlots" class="def">slogPutLastSlots</a> :: (MonadReader ctx m, <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> ctx, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a> -&gt; m () <a href="src/Pos.Block.Slog.Context.html#slogPutLastSlots" class="link">Source</a> <a href="#v:slogPutLastSlots" class="selflink">#</a></p><div class="doc"><p>Update <code><a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></code> in <code><a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:mustDataBeKnown" class="def">mustDataBeKnown</a> :: <a href="../cardano-sl-update-1.0.3/Pos-Update-Configuration.html#t:HasUpdateConfiguration">HasUpdateConfiguration</a> =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:BlockVersion">BlockVersion</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Block.Slog.Logic.html#mustDataBeKnown" class="link">Source</a> <a href="#v:mustDataBeKnown" class="selflink">#</a></p><div class="doc"><p>Check whether data from block must be fully known to our application.</p><p>We verify that data in blocks is known if protocol version used
 by this software is greater than or equal to the adopted
 version. That's because in this case:
 1. Authors of this software are aware of adopted version.
 2. Each issued block must be formed with respect to adopted version.</p><p>Comparison is quite tricky here. Table below demonstrates it.</p><p>Our | Adopted | Check?
 &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;
 1.2.3 |  1.2.3  | Yes
 1.2.3 |  1.2.4  | No
 1.2.3 |  1.2.2  | No
 1.2.3 |  1.3.2  | No
 1.2.3 |  1.1.1  | Yes
 2.2.8 |  1.9.9  | Yes</p><p>If `(major, minor)` of our version is greater than of adopted
 one, then check is certainly done. If it's equal, then check is
 done only if <code>alt</code> component is the same as adopted one. In
 other cases (i. e. when our `(major, minor)` is less than from
 adopted version) check is not done.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadSlogBase" class="def">MonadSlogBase</a> ssc ctx m = (<a href="../cardano-sl-infra-1.0.3/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> ctx m, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc, <a href="../cardano-sl-db-1.0.3/Pos-DB-Class.html#t:MonadDBRead">MonadDBRead</a> m, WithLogger m, <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, <a href="../cardano-sl-update-1.0.3/Pos-Update-Configuration.html#t:HasUpdateConfiguration">HasUpdateConfiguration</a>) <a href="src/Pos.Block.Slog.Logic.html#MonadSlogBase" class="link">Source</a> <a href="#t:MonadSlogBase" class="selflink">#</a></p><div class="doc"><p>Set of basic constraints needed by Slog.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadSlogVerify" class="def">MonadSlogVerify</a> ssc ctx m = (<a href="Pos-Block-Slog.html#t:MonadSlogBase">MonadSlogBase</a> ssc ctx m, MonadReader ctx m, <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens">HasLens</a> <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a> ctx <a href="../cardano-sl-lrc-1.0.3/Pos-Lrc-Context.html#t:LrcContext">LrcContext</a>) <a href="src/Pos.Block.Slog.Logic.html#MonadSlogVerify" class="link">Source</a> <a href="#t:MonadSlogVerify" class="selflink">#</a></p><div class="doc"><p>Set of constraints needed for Slog verification.</p></div></div><div class="top"><p class="src"><a id="v:slogVerifyBlocks" class="def">slogVerifyBlocks</a> :: <span class="keyword">forall</span> ssc ctx m. (<a href="Pos-Block-Slog.html#t:MonadSlogVerify">MonadSlogVerify</a> ssc ctx m, MonadError Text m, <a href="../cardano-sl-ssc-1.0.3/Pos-Ssc-Class-Helpers.html#t:SscHelpersClass">SscHelpersClass</a> ssc) =&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Core.html#t:Block">Block</a> ssc) -&gt; m (<a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> <a href="Pos-Block-Slog.html#t:SlogUndo">SlogUndo</a>) <a href="src/Pos.Block.Slog.Logic.html#slogVerifyBlocks" class="link">Source</a> <a href="#v:slogVerifyBlocks" class="selflink">#</a></p><div class="doc"><p>Verify everything from block that is not checked by other components.
 All blocks must be from the same epoch.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadSlogApply" class="def">MonadSlogApply</a> ssc ctx m = (<a href="Pos-Block-Slog.html#t:MonadSlogBase">MonadSlogBase</a> ssc ctx m, <a href="Pos-DB-Block.html#t:MonadBlockDBWrite">MonadBlockDBWrite</a> ssc m, <a href="Pos-Block-BListener.html#t:MonadBListener">MonadBListener</a> m, MonadMask m, MonadReader ctx m, <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> ctx) <a href="src/Pos.Block.Slog.Logic.html#MonadSlogApply" class="link">Source</a> <a href="#t:MonadSlogApply" class="selflink">#</a></p><div class="doc"><p>Set of constraints necessary to apply/rollback blocks in Slog.</p></div></div><div class="top"><p class="src"><a id="v:slogApplyBlocks" class="def">slogApplyBlocks</a> :: <span class="keyword">forall</span> ssc ctx m. <a href="Pos-Block-Slog.html#t:MonadSlogApply">MonadSlogApply</a> ssc ctx m =&gt; <a href="Pos-Block-Slog.html#t:ShouldCallBListener">ShouldCallBListener</a> -&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc) -&gt; m <a href="../cardano-sl-db-1.0.3/Pos-DB-BatchOp.html#t:SomeBatchOp">SomeBatchOp</a> <a href="src/Pos.Block.Slog.Logic.html#slogApplyBlocks" class="link">Source</a> <a href="#v:slogApplyBlocks" class="selflink">#</a></p><div class="doc"><p>This function does everything that should be done when blocks are
 applied and is not done in other components.</p></div></div><div class="top"><p class="src"><a id="v:slogRollbackBlocks" class="def">slogRollbackBlocks</a> <a href="src/Pos.Block.Slog.Logic.html#slogRollbackBlocks" class="link">Source</a> <a href="#v:slogRollbackBlocks" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pos-Block-Slog.html#t:MonadSlogApply">MonadSlogApply</a> ssc ctx m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Pos-Block-Slog.html#t:BypassSecurityCheck">BypassSecurityCheck</a></td><td class="doc"><p>is rollback for more than k blocks allowed?</p></td></tr><tr><td class="src">-&gt; <a href="Pos-Block-Slog.html#t:ShouldCallBListener">ShouldCallBListener</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NewestFirst">NewestFirst</a> <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:NE">NE</a> (<a href="Pos-Block-Types.html#t:Blund">Blund</a> ssc)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="../cardano-sl-db-1.0.3/Pos-DB-BatchOp.html#t:SomeBatchOp">SomeBatchOp</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This function does everything that should be done when rollback
 happens and that is not done in other components.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:BypassSecurityCheck" class="def">BypassSecurityCheck</a> <a href="src/Pos.Block.Slog.Logic.html#BypassSecurityCheck" class="link">Source</a> <a href="#t:BypassSecurityCheck" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BypassSecurityCheck" class="def">BypassSecurityCheck</a> <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:ShouldCallBListener" class="def">ShouldCallBListener</a> <a href="src/Pos.Block.Slog.Logic.html#ShouldCallBListener" class="link">Source</a> <a href="#t:ShouldCallBListener" class="selflink">#</a></p><div class="doc"><p>Flag determining whether to call BListener callback.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ShouldCallBListener" class="def">ShouldCallBListener</a> <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LastBlkSlots" class="def">LastBlkSlots</a> = <a href="../cardano-sl-core-1.0.3/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> [] <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a> <a href="src/Pos.Block.Slog.Types.html#LastBlkSlots" class="link">Source</a> <a href="#t:LastBlkSlots" class="selflink">#</a></p><div class="doc"><p>This type contains <code><a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a></code>s of the blocks whose depth is
 less than <code>blkSecurityParam</code>. <code><a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a></code> is chosen in favor of
 <code>SlotId</code>, because the main use case is chain quality calculation,
 for which flat slot is more convenient.</p></div></div><div class="top"><p class="src"><a id="v:noLastBlkSlots" class="def">noLastBlkSlots</a> :: <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a> <a href="src/Pos.Block.Slog.Types.html#noLastBlkSlots" class="link">Source</a> <a href="#v:noLastBlkSlots" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SlogGState" class="def">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#SlogGState" class="link">Source</a> <a href="#t:SlogGState" class="selflink">#</a></p><div class="doc"><p>In-memory representation of Slog (aka BlockExtra) part of
 GState. Note that it contains only part of BlockExtra.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SlogGState" class="def">SlogGState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_sgsLastBlkSlots" class="def">_sgsLastBlkSlots</a> :: <a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a></dfn><div class="doc"><p>Slots for which last blocks in our chain were created. This
 information is also stored in DB, but we don't want to read it
 every time.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlogGState" class="caption collapser" onclick="toggleSection('i:SlogGState')">Instances</p><div id="section.i:SlogGState" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogGState:HasSlogGState:1" class="instance expander" onclick="toggleSection('i:id:SlogGState:HasSlogGState:1')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></span> <a href="src/Pos.Block.Slog.Types.html#line-47" class="link">Source</a> <a href="#t:SlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogGState:HasSlogGState:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasSlogGState" class="def">HasSlogGState</a> c <span class="keyword">where</span> <a href="src/Pos.Block.Slog.Types.html#HasSlogGState" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Pos-Block-Slog.html#v:slogGState">slogGState</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:slogGState" class="def">slogGState</a> :: Lens' c <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a id="v:sgsLastBlkSlots" class="def">sgsLastBlkSlots</a> :: Lens' c (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:HasSlogGState" class="caption collapser" onclick="toggleSection('i:HasSlogGState')">Instances</p><div id="section.i:HasSlogGState" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogGState:HasSlogGState:1" class="instance expander" onclick="toggleSection('i:ic:HasSlogGState:HasSlogGState:1')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></span> <a href="src/Pos.Block.Slog.Types.html#line-47" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogGState:HasSlogGState:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogGState:HasSlogGState:2" class="instance expander" onclick="toggleSection('i:ic:HasSlogGState:HasSlogGState:2')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-79" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogGState:HasSlogGState:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogGState:HasSlogGState:3" class="instance expander" onclick="toggleSection('i:ic:HasSlogGState:HasSlogGState:3')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-GState.html#t:GStateContext">GStateContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-38" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogGState:HasSlogGState:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-GState.html#t:GStateContext">GStateContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-GState.html#t:GStateContext">GStateContext</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogGState:HasSlogGState:4" class="instance expander" onclick="toggleSection('i:ic:HasSlogGState:HasSlogGState:4')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-297" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogGState:HasSlogGState:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Generator-Block.html#t:BlockGenContext">BlockGenContext</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogGState:HasSlogGState:5" class="instance expander" onclick="toggleSection('i:ic:HasSlogGState:HasSlogGState:5')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc)</span> <a href="src/Pos.Block.Slog.Types.html#line-157" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogGState:HasSlogGState:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogGState:HasSlogGState:6" class="instance expander" onclick="toggleSection('i:ic:HasSlogGState:HasSlogGState:6')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc)</span> <a href="src/Pos.Block.Slog.Types.html#line-135" class="link">Source</a> <a href="#t:HasSlogGState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogGState:HasSlogGState:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SlogContext" class="def">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#SlogContext" class="link">Source</a> <a href="#t:SlogContext" class="selflink">#</a></p><div class="doc"><p>All in-memory data used by Slog.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SlogContext" class="def">SlogContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_scGState" class="def">_scGState</a> :: !<a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a></dfn><div class="doc"><p>Slots for which last blocks in our chain were created. This
 information is also stored in DB, but we don't want to read it
 every time.</p></div></li><li><dfn class="src"><a id="v:_scCQkMonitorState" class="def">_scCQkMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of chain
 quality for last <code>k</code> blocks.</p></div></li><li><dfn class="src"><a id="v:_scCQOverallMonitorState" class="def">_scCQOverallMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of overall chain
 quality.</p></div></li><li><dfn class="src"><a id="v:_scCQFixedMonitorState" class="def">_scCQFixedMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of chain
 quality for fixed amount of time.</p></div></li><li><dfn class="src"><a id="v:_scDifficultyMonitorState" class="def">_scDifficultyMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of overall
 chain difficulty (i. e. total number of main blocks created so far).</p></div></li><li><dfn class="src"><a id="v:_scEpochMonitorState" class="def">_scEpochMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of current epoch.</p></div></li><li><dfn class="src"><a id="v:_scLocalSlotMonitorState" class="def">_scLocalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of current local slot.</p></div></li><li><dfn class="src"><a id="v:_scGlobalSlotMonitorState" class="def">_scGlobalSlotMonitorState</a> :: !(<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>)</dfn><div class="doc"><p>Internal state of <code>MetricMonitor</code> to keep track of current global slot.</p></div></li><li><dfn class="src"><a id="v:_scCrucialValuesLabel" class="def">_scCrucialValuesLabel</a> :: !Label</dfn><div class="doc"><p>A <code>Label</code> for crucial values.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlogContext" class="caption collapser" onclick="toggleSection('i:SlogContext')">Instances</p><div id="section.i:SlogContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogContext:HasSlogGState:1" class="instance expander" onclick="toggleSection('i:id:SlogContext:HasSlogGState:1')"></span> <a href="Pos-Block-Slog.html#t:HasSlogGState">HasSlogGState</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-79" class="link">Source</a> <a href="#t:SlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogContext:HasSlogGState:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogGState">slogGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#slogGState" class="link">Source</a> <a href="#v:slogGState" class="selflink">#</a></p><p class="src"><a href="#v:sgsLastBlkSlots">sgsLastBlkSlots</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="Pos-Block-Slog.html#t:LastBlkSlots">LastBlkSlots</a>) <a href="src/Pos.Block.Slog.Types.html#sgsLastBlkSlots" class="link">Source</a> <a href="#v:sgsLastBlkSlots" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogContext:HasSlogContext:2" class="instance expander" onclick="toggleSection('i:id:SlogContext:HasSlogContext:2')"></span> <a href="Pos-Block-Slog.html#t:HasSlogContext">HasSlogContext</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-77" class="link">Source</a> <a href="#t:SlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogContext:HasSlogContext:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogContext">slogContext</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#slogContext" class="link">Source</a> <a href="#v:slogContext" class="selflink">#</a></p><p class="src"><a href="#v:scCQFixedMonitorState">scCQFixedMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQFixedMonitorState" class="link">Source</a> <a href="#v:scCQFixedMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQOverallMonitorState">scCQOverallMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQOverallMonitorState" class="link">Source</a> <a href="#v:scCQOverallMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQkMonitorState">scCQkMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQkMonitorState" class="link">Source</a> <a href="#v:scCQkMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCrucialValuesLabel">scCrucialValuesLabel</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> Label <a href="src/Pos.Block.Slog.Types.html#scCrucialValuesLabel" class="link">Source</a> <a href="#v:scCrucialValuesLabel" class="selflink">#</a></p><p class="src"><a href="#v:scDifficultyMonitorState">scDifficultyMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Block.Slog.Types.html#scDifficultyMonitorState" class="link">Source</a> <a href="#v:scDifficultyMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scEpochMonitorState">scEpochMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scEpochMonitorState" class="link">Source</a> <a href="#v:scEpochMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scGState">scGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#scGState" class="link">Source</a> <a href="#v:scGState" class="selflink">#</a></p><p class="src"><a href="#v:scGlobalSlotMonitorState">scGlobalSlotMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>) <a href="src/Pos.Block.Slog.Types.html#scGlobalSlotMonitorState" class="link">Source</a> <a href="#v:scGlobalSlotMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scLocalSlotMonitorState">scLocalSlotMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scLocalSlotMonitorState" class="link">Source</a> <a href="#v:scLocalSlotMonitorState" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasSlogContext" class="def">HasSlogContext</a> c <span class="keyword">where</span> <a href="src/Pos.Block.Slog.Types.html#HasSlogContext" class="link">Source</a> <a href="#t:HasSlogContext" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Pos-Block-Slog.html#v:slogContext">slogContext</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:slogContext" class="def">slogContext</a> :: Lens' c <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#slogContext" class="link">Source</a> <a href="#v:slogContext" class="selflink">#</a></p><p class="src"><a id="v:scCQFixedMonitorState" class="def">scCQFixedMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQFixedMonitorState" class="link">Source</a> <a href="#v:scCQFixedMonitorState" class="selflink">#</a></p><p class="src"><a id="v:scCQOverallMonitorState" class="def">scCQOverallMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQOverallMonitorState" class="link">Source</a> <a href="#v:scCQOverallMonitorState" class="selflink">#</a></p><p class="src"><a id="v:scCQkMonitorState" class="def">scCQkMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQkMonitorState" class="link">Source</a> <a href="#v:scCQkMonitorState" class="selflink">#</a></p><p class="src"><a id="v:scCrucialValuesLabel" class="def">scCrucialValuesLabel</a> :: Lens' c Label <a href="src/Pos.Block.Slog.Types.html#scCrucialValuesLabel" class="link">Source</a> <a href="#v:scCrucialValuesLabel" class="selflink">#</a></p><p class="src"><a id="v:scDifficultyMonitorState" class="def">scDifficultyMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Block.Slog.Types.html#scDifficultyMonitorState" class="link">Source</a> <a href="#v:scDifficultyMonitorState" class="selflink">#</a></p><p class="src"><a id="v:scEpochMonitorState" class="def">scEpochMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scEpochMonitorState" class="link">Source</a> <a href="#v:scEpochMonitorState" class="selflink">#</a></p><p class="src"><a id="v:scGState" class="def">scGState</a> :: Lens' c <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#scGState" class="link">Source</a> <a href="#v:scGState" class="selflink">#</a></p><p class="src"><a id="v:scGlobalSlotMonitorState" class="def">scGlobalSlotMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>) <a href="src/Pos.Block.Slog.Types.html#scGlobalSlotMonitorState" class="link">Source</a> <a href="#v:scGlobalSlotMonitorState" class="selflink">#</a></p><p class="src"><a id="v:scLocalSlotMonitorState" class="def">scLocalSlotMonitorState</a> :: Lens' c (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scLocalSlotMonitorState" class="link">Source</a> <a href="#v:scLocalSlotMonitorState" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:HasSlogContext" class="caption collapser" onclick="toggleSection('i:HasSlogContext')">Instances</p><div id="section.i:HasSlogContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogContext:HasSlogContext:1" class="instance expander" onclick="toggleSection('i:ic:HasSlogContext:HasSlogContext:1')"></span> <a href="Pos-Block-Slog.html#t:HasSlogContext">HasSlogContext</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a></span> <a href="src/Pos.Block.Slog.Types.html#line-77" class="link">Source</a> <a href="#t:HasSlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogContext:HasSlogContext:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogContext">slogContext</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#slogContext" class="link">Source</a> <a href="#v:slogContext" class="selflink">#</a></p><p class="src"><a href="#v:scCQFixedMonitorState">scCQFixedMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQFixedMonitorState" class="link">Source</a> <a href="#v:scCQFixedMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQOverallMonitorState">scCQOverallMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQOverallMonitorState" class="link">Source</a> <a href="#v:scCQOverallMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQkMonitorState">scCQkMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQkMonitorState" class="link">Source</a> <a href="#v:scCQkMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCrucialValuesLabel">scCrucialValuesLabel</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> Label <a href="src/Pos.Block.Slog.Types.html#scCrucialValuesLabel" class="link">Source</a> <a href="#v:scCrucialValuesLabel" class="selflink">#</a></p><p class="src"><a href="#v:scDifficultyMonitorState">scDifficultyMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Block.Slog.Types.html#scDifficultyMonitorState" class="link">Source</a> <a href="#v:scDifficultyMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scEpochMonitorState">scEpochMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scEpochMonitorState" class="link">Source</a> <a href="#v:scEpochMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scGState">scGState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#scGState" class="link">Source</a> <a href="#v:scGState" class="selflink">#</a></p><p class="src"><a href="#v:scGlobalSlotMonitorState">scGlobalSlotMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>) <a href="src/Pos.Block.Slog.Types.html#scGlobalSlotMonitorState" class="link">Source</a> <a href="#v:scGlobalSlotMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scLocalSlotMonitorState">scLocalSlotMonitorState</a> :: Lens' <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scLocalSlotMonitorState" class="link">Source</a> <a href="#v:scLocalSlotMonitorState" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogContext:HasSlogContext:2" class="instance expander" onclick="toggleSection('i:ic:HasSlogContext:HasSlogContext:2')"></span> <a href="Pos-Block-Slog.html#t:HasSlogContext">HasSlogContext</a> (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc)</span> <a href="src/Pos.Block.Slog.Types.html#line-154" class="link">Source</a> <a href="#t:HasSlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogContext:HasSlogContext:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogContext">slogContext</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#slogContext" class="link">Source</a> <a href="#v:slogContext" class="selflink">#</a></p><p class="src"><a href="#v:scCQFixedMonitorState">scCQFixedMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQFixedMonitorState" class="link">Source</a> <a href="#v:scCQFixedMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQOverallMonitorState">scCQOverallMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQOverallMonitorState" class="link">Source</a> <a href="#v:scCQOverallMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQkMonitorState">scCQkMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQkMonitorState" class="link">Source</a> <a href="#v:scCQkMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCrucialValuesLabel">scCrucialValuesLabel</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) Label <a href="src/Pos.Block.Slog.Types.html#scCrucialValuesLabel" class="link">Source</a> <a href="#v:scCrucialValuesLabel" class="selflink">#</a></p><p class="src"><a href="#v:scDifficultyMonitorState">scDifficultyMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Block.Slog.Types.html#scDifficultyMonitorState" class="link">Source</a> <a href="#v:scDifficultyMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scEpochMonitorState">scEpochMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scEpochMonitorState" class="link">Source</a> <a href="#v:scEpochMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scGState">scGState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#scGState" class="link">Source</a> <a href="#v:scGState" class="selflink">#</a></p><p class="src"><a href="#v:scGlobalSlotMonitorState">scGlobalSlotMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>) <a href="src/Pos.Block.Slog.Types.html#scGlobalSlotMonitorState" class="link">Source</a> <a href="#v:scGlobalSlotMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scLocalSlotMonitorState">scLocalSlotMonitorState</a> :: Lens' (<a href="Pos-Context.html#t:NodeContext">NodeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scLocalSlotMonitorState" class="link">Source</a> <a href="#v:scLocalSlotMonitorState" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasSlogContext:HasSlogContext:3" class="instance expander" onclick="toggleSection('i:ic:HasSlogContext:HasSlogContext:3')"></span> <a href="Pos-Block-Slog.html#t:HasSlogContext">HasSlogContext</a> (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc)</span> <a href="src/Pos.Block.Slog.Types.html#line-132" class="link">Source</a> <a href="#t:HasSlogContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasSlogContext:HasSlogContext:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:slogContext">slogContext</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) <a href="Pos-Block-Slog.html#t:SlogContext">SlogContext</a> <a href="src/Pos.Block.Slog.Types.html#slogContext" class="link">Source</a> <a href="#v:slogContext" class="selflink">#</a></p><p class="src"><a href="#v:scCQFixedMonitorState">scCQFixedMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQFixedMonitorState" class="link">Source</a> <a href="#v:scCQFixedMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQOverallMonitorState">scCQOverallMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQOverallMonitorState" class="link">Source</a> <a href="#v:scCQOverallMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCQkMonitorState">scCQkMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a>) <a href="src/Pos.Block.Slog.Types.html#scCQkMonitorState" class="link">Source</a> <a href="#v:scCQkMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scCrucialValuesLabel">scCrucialValuesLabel</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) Label <a href="src/Pos.Block.Slog.Types.html#scCrucialValuesLabel" class="link">Source</a> <a href="#v:scCrucialValuesLabel" class="selflink">#</a></p><p class="src"><a href="#v:scDifficultyMonitorState">scDifficultyMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Block.Slog.Types.html#scDifficultyMonitorState" class="link">Source</a> <a href="#v:scDifficultyMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scEpochMonitorState">scEpochMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:EpochIndex">EpochIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scEpochMonitorState" class="link">Source</a> <a href="#v:scEpochMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scGState">scGState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) <a href="Pos-Block-Slog.html#t:SlogGState">SlogGState</a> <a href="src/Pos.Block.Slog.Types.html#scGState" class="link">Source</a> <a href="#v:scGState" class="selflink">#</a></p><p class="src"><a href="#v:scGlobalSlotMonitorState">scGlobalSlotMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a>) <a href="src/Pos.Block.Slog.Types.html#scGlobalSlotMonitorState" class="link">Source</a> <a href="#v:scGlobalSlotMonitorState" class="selflink">#</a></p><p class="src"><a href="#v:scLocalSlotMonitorState">scLocalSlotMonitorState</a> :: Lens' (<a href="Pos-WorkMode.html#t:RealModeContext">RealModeContext</a> ssc) (<a href="../cardano-sl-infra-1.0.3/Pos-Reporting-Metrics.html#t:MetricMonitorState">MetricMonitorState</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:LocalSlotIndex">LocalSlotIndex</a>) <a href="src/Pos.Block.Slog.Types.html#scLocalSlotMonitorState" class="link">Source</a> <a href="#v:scLocalSlotMonitorState" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:SlogUndo" class="def">SlogUndo</a> <a href="src/Pos.Block.Slog.Types.html#SlogUndo" class="link">Source</a> <a href="#t:SlogUndo" class="selflink">#</a></p><div class="doc"><p>Undo data from Slog, i. e. data which is necessary do rollback a
 block inside Slog.</p><p>If block is one of the first <code>blkSecurityParam</code> blocks, we don't
 need to store anything. We also don't need to store anything for
 genesis blocks. Otherwise we store <code><a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a></code> of the oldest block
 from those for which we stored slots before given block was
 applied.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SlogUndo" class="def">SlogUndo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getSlogUndo" class="def">getSlogUndo</a> :: <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:FlatSlotId">FlatSlotId</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:SlogUndo" class="caption collapser" onclick="toggleSection('i:SlogUndo')">Instances</p><div id="section.i:SlogUndo" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogUndo:NFData:1" class="instance expander" onclick="toggleSection('i:id:SlogUndo:NFData:1')"></span> <a href="../deepseq-1.4.2.0/Control-DeepSeq.html#t:NFData">NFData</a> <a href="Pos-Block-Slog.html#t:SlogUndo">SlogUndo</a></span> <a href="src/Pos.Block.Slog.Types.html#line-92" class="link">Source</a> <a href="#t:SlogUndo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogUndo:NFData:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Pos-Block-Slog.html#t:SlogUndo">SlogUndo</a> -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SlogUndo:Buildable:2" class="instance expander" onclick="toggleSection('i:id:SlogUndo:Buildable:2')"></span> <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a> =&gt; Buildable <a href="Pos-Block-Slog.html#t:SlogUndo">SlogUndo</a></span> <a href="src/Pos.Block.Slog.Types.html#line-94" class="link">Source</a> <a href="#t:SlogUndo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SlogUndo:Buildable:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Block-Slog.html#t:SlogUndo">SlogUndo</a> -&gt; Builder</p></div></div></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>