<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Update.Poll.Logic.Apply</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Update-Poll-Logic-Apply.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Update.Poll.Logic.Apply.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-update-1.0.3: Cardano SL - update</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Update.Poll.Logic.Apply</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Logic of application and verification of data in Poll.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:verifyAndApplyUSPayload">verifyAndApplyUSPayload</a> :: ApplyMode m =&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsMainHeader">IsMainHeader</a>) -&gt; <a href="Pos-Update-Core-Types.html#t:UpdatePayload">UpdatePayload</a> -&gt; m ()</li><li class="src short"><a href="#v:verifyAndApplyProposal">verifyAndApplyProposal</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, MonadError <a href="Pos-Update-Poll-Failure.html#t:PollVerFailure">PollVerFailure</a> m, <a href="Pos-Update-Poll-Class.html#t:MonadPoll">MonadPoll</a> m) =&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsMainHeader">IsMainHeader</a>) -&gt; [<a href="Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a>] -&gt; <a href="Pos-Update-Core-Types.html#t:UpdateProposal">UpdateProposal</a> -&gt; m ()</li><li class="src short"><a href="#v:verifyAndApplyVoteDo">verifyAndApplyVoteDo</a> :: ApplyMode m =&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>) -&gt; <a href="Pos-Update-Poll-Types.html#t:UndecidedProposalState">UndecidedProposalState</a> -&gt; <a href="Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a> -&gt; m ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:verifyAndApplyUSPayload" class="def">verifyAndApplyUSPayload</a> :: ApplyMode m =&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsMainHeader">IsMainHeader</a>) -&gt; <a href="Pos-Update-Core-Types.html#t:UpdatePayload">UpdatePayload</a> -&gt; m () <a href="src/Pos.Update.Poll.Logic.Apply.html#verifyAndApplyUSPayload" class="link">Source</a> <a href="#v:verifyAndApplyUSPayload" class="selflink">#</a></p><div class="doc"><p>Verify UpdatePayload with respect to data provided by
 MonadPoll. If data is valid it is also applied.  Otherwise
 PollVerificationFailure is thrown using MonadError type class.</p><p>The first argument specifies whether we should perform unknown data
 checks.  Currently it means that if it's <code><a href="../base-4.9.1.0/Data-Bool.html#v:True">True</a></code>, then proposal (if
 it exists) must not have unknown attributes.</p><p>When the second argument is 'Left epoch', it means that temporary payload
 for given slot is applied. In this case threshold for inclusion of proposal
 into block is intentionally not checked.
 When it is 'Right header', it means that payload from block with
 given header is applied and in this case threshold for update proposal is
 checked.</p></div></div><div class="top"><p class="src"><a id="v:verifyAndApplyProposal" class="def">verifyAndApplyProposal</a> :: (<a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a>, MonadError <a href="Pos-Update-Poll-Failure.html#t:PollVerFailure">PollVerFailure</a> m, <a href="Pos-Update-Poll-Class.html#t:MonadPoll">MonadPoll</a> m) =&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:SlotId">SlotId</a> (<a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:Some">Some</a> <a href="../cardano-sl-core-1.0.3/Pos-Core-Class.html#t:IsMainHeader">IsMainHeader</a>) -&gt; [<a href="Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a>] -&gt; <a href="Pos-Update-Core-Types.html#t:UpdateProposal">UpdateProposal</a> -&gt; m () <a href="src/Pos.Update.Poll.Logic.Apply.html#verifyAndApplyProposal" class="link">Source</a> <a href="#v:verifyAndApplyProposal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:verifyAndApplyVoteDo" class="def">verifyAndApplyVoteDo</a> :: ApplyMode m =&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>, <a href="../cardano-sl-core-1.0.3/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>) -&gt; <a href="Pos-Update-Poll-Types.html#t:UndecidedProposalState">UndecidedProposalState</a> -&gt; <a href="Pos-Update-Core-Types.html#t:UpdateVote">UpdateVote</a> -&gt; m () <a href="src/Pos.Update.Poll.Logic.Apply.html#verifyAndApplyVoteDo" class="link">Source</a> <a href="#v:verifyAndApplyVoteDo" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>