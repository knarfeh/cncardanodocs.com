<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Update.MemState.Functions</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Update-MemState-Functions.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Update.MemState.Functions.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-update-1.0.3: Cardano SL - update</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Update.MemState.Functions</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Functions which work with MemVar.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:withUSLock">withUSLock</a> :: (MonadReader ctx m, <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens-39-">HasLens'</a> ctx <a href="../cardano-sl-infra-1.0.3/Pos-StateLock.html#t:StateLock">StateLock</a>, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadMask m) =&gt; m a -&gt; m a</li><li class="src short"><a href="#v:addToMemPool">addToMemPool</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a> =&gt; <a href="Pos-Update-Core-Types.html#t:UpdatePayload">UpdatePayload</a> -&gt; <a href="Pos-Update-MemState-Types.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Update-MemState-Types.html#t:MemPool">MemPool</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:withUSLock" class="def">withUSLock</a> :: (MonadReader ctx m, <a href="../cardano-sl-core-1.0.3/Pos-Util-Util.html#t:HasLens-39-">HasLens'</a> ctx <a href="../cardano-sl-infra-1.0.3/Pos-StateLock.html#t:StateLock">StateLock</a>, <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, MonadMask m) =&gt; m a -&gt; m a <a href="src/Pos.Update.MemState.Functions.html#withUSLock" class="link">Source</a> <a href="#v:withUSLock" class="selflink">#</a></p><div class="doc"><p>Use a lock to perform operation on in-memory state of update system.</p><p>Currently we are using a single lock for everything, so this
 function is just an alias for <code>withStateLock</code>.</p></div></div><div class="top"><p class="src"><a id="v:addToMemPool" class="def">addToMemPool</a> :: <a href="../cardano-sl-core-1.0.3/Pos-Core-Configuration.html#t:HasConfiguration">HasConfiguration</a> =&gt; <a href="Pos-Update-Core-Types.html#t:UpdatePayload">UpdatePayload</a> -&gt; <a href="Pos-Update-MemState-Types.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Update-MemState-Types.html#t:MemPool">MemPool</a> <a href="src/Pos.Update.MemState.Functions.html#addToMemPool" class="link">Source</a> <a href="#v:addToMemPool" class="selflink">#</a></p><div class="doc"><p>Add given payload to MemPool. Size is updated assuming that all added
 data is new (is not in MemPool). This assumption is fine, because
 duplicated data should be considered invalid anyway.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>