<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Network.DnsDomains</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Network-DnsDomains.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Network.DnsDomains.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-sl-infra-1.0.3: Cardano SL - infrastructural</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Network.DnsDomains</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:DnsDomains">DnsDomains</a> a = <a href="#v:DnsDomains">DnsDomains</a> {<ul class="subs"><li><a href="#v:dnsDomains">dnsDomains</a> :: !(AllOf (Alts (<a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a)))</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:NodeAddr">NodeAddr</a> a<ul class="subs"><li>= <a href="#v:NodeAddrExact">NodeAddrExact</a> IP (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a>)</li><li>| <a href="#v:NodeAddrDNS">NodeAddrDNS</a> a (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a>)</li></ul></li><li class="src short"><a href="#v:resolveDnsDomains">resolveDnsDomains</a> :: <span class="keyword">forall</span> a e. (a -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> e [IPv4])) -&gt; <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a> -&gt; [<a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a] -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> [<a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> e [(<a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a>)]]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DnsDomains" class="def">DnsDomains</a> a <a href="src/Pos.Network.DnsDomains.html#DnsDomains" class="link">Source</a> <a href="#t:DnsDomains" class="selflink">#</a></p><div class="doc"><p>DNS domains for relay discovery</p><p>We provide a list of list of domain names to query.
 Just like for static routes, it's a conjunction of disjuctions:
 try to use one alternative from each list. This implicitly encodes
 valency and fallbacks.
 The idea is that resolving at least one name from each of the inner lists
 provides a complete set of relay nodes to be tried, using the
 backup domain names (further back in the inner lists) only when one or more
 of the primary ones (further forward in the inner lists) fail.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DnsDomains" class="def">DnsDomains</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dnsDomains" class="def">dnsDomains</a> :: !(AllOf (Alts (<a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a)))</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:DnsDomains" class="caption collapser" onclick="toggleSection('i:DnsDomains')">Instances</p><div id="section.i:DnsDomains" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:DnsDomains:Show:1" class="instance expander" onclick="toggleSection('i:id:DnsDomains:Show:1')"></span> <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> (<a href="Pos-Network-DnsDomains.html#t:DnsDomains">DnsDomains</a> a)</span> <a href="src/Pos.Network.DnsDomains.html#line-26" class="link">Source</a> <a href="#t:DnsDomains" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:DnsDomains:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Network-DnsDomains.html#t:DnsDomains">DnsDomains</a> a -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Network-DnsDomains.html#t:DnsDomains">DnsDomains</a> a -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Network-DnsDomains.html#t:DnsDomains">DnsDomains</a> a] -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NodeAddr" class="def">NodeAddr</a> a <a href="src/Pos.Network.DnsDomains.html#NodeAddr" class="link">Source</a> <a href="#t:NodeAddr" class="selflink">#</a></p><div class="doc"><p>Node address</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NodeAddrExact" class="def">NodeAddrExact</a> IP (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a>)</td><td class="doc"><p>We specify the exact address of this node</p><p>If port unspecified, use the default.</p></td></tr><tr><td class="src"><a id="v:NodeAddrDNS" class="def">NodeAddrDNS</a> a (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a>)</td><td class="doc"><p>Do a DNS lookup to find the node's address</p><p>If domain unspecified, use the node's name
 If port unspecified, use the default.</p></td></tr></table></div><div class="subs instances"><p id="control.i:NodeAddr" class="caption collapser" onclick="toggleSection('i:NodeAddr')">Instances</p><div id="section.i:NodeAddr" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NodeAddr:Show:1" class="instance expander" onclick="toggleSection('i:id:NodeAddr:Show:1')"></span> <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> (<a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a)</span> <a href="src/Pos.Network.DnsDomains.html#line-40" class="link">Source</a> <a href="#t:NodeAddr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NodeAddr:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a] -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:resolveDnsDomains" class="def">resolveDnsDomains</a> <a href="src/Pos.Network.DnsDomains.html#resolveDnsDomains" class="link">Source</a> <a href="#v:resolveDnsDomains" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> e [IPv4]))</td><td class="doc"><p>Actual resolution</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a></td><td class="doc"><p>Default port</p></td></tr><tr><td class="src">-&gt; [<a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a> a]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> [<a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> e [(<a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="../base-4.9.1.0/Data-Word.html#t:Word16">Word16</a>)]]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Resolve a list of <code><a href="Pos-Network-DnsDomains.html#t:NodeAddr">NodeAddr</a></code>, possibly using DNS.</p><p>Each element may resolve to 0 or more addresses, or fail with some error
 according to the <code>resolve</code> function.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>