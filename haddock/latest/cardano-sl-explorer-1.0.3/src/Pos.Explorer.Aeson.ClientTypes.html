<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE TemplateHaskell    #-}</span><span>
</span><a name="line-3"></a><span>
</span><a name="line-4"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Pos</span><span class="hs-operator">.</span><span class="hs-identifier">Explorer</span><span class="hs-operator">.</span><span class="hs-identifier">Aeson</span><span class="hs-operator">.</span><span class="hs-identifier">ClientTypes</span><span>
</span><a name="line-5"></a><span>       </span><span class="hs-special">(</span><span>
</span><a name="line-6"></a><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-7"></a><span>
</span><a name="line-8"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Universum</span><span>
</span><a name="line-9"></a><span>
</span><a name="line-10"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Aeson</span><span class="hs-operator">.</span><span class="hs-identifier">Encoding</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier hs-var">unsafeToEncoding</span><span class="hs-special">)</span><span>
</span><a name="line-11"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Aeson</span><span class="hs-operator">.</span><span class="hs-identifier">TH</span><span>                </span><span class="hs-special">(</span><span class="hs-identifier hs-var">defaultOptions</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">deriveJSON</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">deriveToJSON</span><span class="hs-special">)</span><span>
</span><a name="line-12"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Aeson</span><span class="hs-operator">.</span><span class="hs-identifier">Types</span><span>             </span><span class="hs-special">(</span><span class="hs-identifier hs-type">ToJSON</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-13"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">ByteString</span><span class="hs-operator">.</span><span class="hs-identifier">Builder</span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">BS</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">string8</span><span class="hs-special">)</span><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Fixed</span><span>                   </span><span class="hs-special">(</span><span class="hs-identifier hs-var">showFixed</span><span class="hs-special">)</span><span>
</span><a name="line-15"></a><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Pos</span><span class="hs-operator">.</span><span class="hs-identifier">Aeson</span><span>                    </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-17"></a><span class="hs-keyword">import</span><span>           </span><a href="Pos.Explorer.Web.ClientTypes.html"><span class="hs-identifier">Pos</span><span class="hs-operator">.</span><span class="hs-identifier">Explorer</span><span class="hs-operator">.</span><span class="hs-identifier">Web</span><span class="hs-operator">.</span><span class="hs-identifier">ClientTypes</span></a><span> </span><span class="hs-special">(</span><a href="Pos.Explorer.Web.ClientTypes.html#CAda"><span class="hs-identifier hs-type">CAda</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CAddress"><span class="hs-identifier hs-type">CAddress</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CAddressSummary"><span class="hs-identifier hs-type">CAddressSummary</span></a><span class="hs-special">,</span><span>
</span><a name="line-18"></a><span>                                               </span><a href="Pos.Explorer.Web.ClientTypes.html#CAddressType"><span class="hs-identifier hs-type">CAddressType</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CBlockEntry"><span class="hs-identifier hs-type">CBlockEntry</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CBlockSummary"><span class="hs-identifier hs-type">CBlockSummary</span></a><span class="hs-special">,</span><span>
</span><a name="line-19"></a><span>                                               </span><a href="Pos.Explorer.Web.ClientTypes.html#CCoin"><span class="hs-identifier hs-type">CCoin</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CGenesisAddressInfo"><span class="hs-identifier hs-type">CGenesisAddressInfo</span></a><span class="hs-special">,</span><span>
</span><a name="line-20"></a><span>                                               </span><a href="Pos.Explorer.Web.ClientTypes.html#CGenesisSummary"><span class="hs-identifier hs-type">CGenesisSummary</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CHash"><span class="hs-identifier hs-type">CHash</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CNetworkAddress"><span class="hs-identifier hs-type">CNetworkAddress</span></a><span class="hs-special">,</span><span>
</span><a name="line-21"></a><span>                                               </span><a href="Pos.Explorer.Web.ClientTypes.html#CTxBrief"><span class="hs-identifier hs-type">CTxBrief</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CTxEntry"><span class="hs-identifier hs-type">CTxEntry</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CTxId"><span class="hs-identifier hs-type">CTxId</span></a><span class="hs-special">,</span><span> </span><a href="Pos.Explorer.Web.ClientTypes.html#CTxSummary"><span class="hs-identifier hs-type">CTxSummary</span></a><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span>           </span><a href="Pos.Explorer.Web.Error.html"><span class="hs-identifier">Pos</span><span class="hs-operator">.</span><span class="hs-identifier">Explorer</span><span class="hs-operator">.</span><span class="hs-identifier">Web</span><span class="hs-operator">.</span><span class="hs-identifier">Error</span></a><span>       </span><span class="hs-special">(</span><a href="Pos.Explorer.Web.Error.html#ExplorerError"><span class="hs-identifier hs-type">ExplorerError</span></a><span class="hs-special">)</span><span>
</span><a name="line-23"></a><span>
</span><a name="line-24"></a><a href="#local-6989586621679335021"><span class="hs-identifier hs-var">deriveJSON</span></a><span> </span><a href="#local-6989586621679335021"><span class="hs-identifier hs-var">defaultOptions</span></a><span> </span><span class="hs-char">''CHash
deriveJSON defaultOptions ''CAddress
deriveJSON defaultOptions ''CTxId

deriveToJSON defaultOptions ''CCoin
deriveToJSON defaultOptions ''ExplorerError
deriveToJSON defaultOptions ''CBlockEntry
deriveToJSON defaultOptions ''CTxEntry
deriveToJSON defaultOptions ''CTxBrief
deriveToJSON defaultOptions ''CAddressType
deriveToJSON defaultOptions ''CAddressSummary
deriveToJSON defaultOptions ''CBlockSummary
deriveToJSON defaultOptions ''CNetworkAddress
deriveToJSON defaultOptions ''CTxSummary
deriveToJSON defaultOptions ''CGenesisSummary
deriveToJSON defaultOptions ''CGenesisAddressInfo

instance ToJSON CAda where
    -- https://github.com/bos/aeson/issues/227#issuecomment-245400284
    toEncoding (CAda ada) =
        showFixed True ada &amp; -- convert Micro to String chopping off trailing zeros
        BS.string8 &amp;         -- convert String to ByteString using Latin1 encoding
        unsafeToEncoding     -- convert ByteString to Aeson's Encoding
</span></pre></body></html>